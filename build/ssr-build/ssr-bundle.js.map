{"version":3,"sources":["webpack:///webpack/bootstrap 4c3742bd7b03f00f47de","webpack:///../node_modules/redux-immutable/dist/utilities/getStateName.js","webpack:///../node_modules/to-space-case/index.js","webpack:///../node_modules/redux-immutable/dist/utilities/validateNextState.js","webpack:///./components/location/style.scss","webpack:///./components/conversation/style.scss","webpack:///./components/arrow/style.scss","webpack:///./components/task-description/style.scss","webpack:///../node_modules/redux-immutable/dist/utilities/getUnexpectedInvocationParameterMessage.js","webpack:///../node_modules/redux-immutable/dist/index.js","webpack:///../node_modules/noty/lib/noty.js","webpack:///../node_modules/symbol-observable/es/ponyfill.js","webpack:///../node_modules/preact-router/dist/preact-router.es.js","webpack:///../node_modules/preact-redux/dist/preact-redux.esm.js","webpack:///../node_modules/redux-actions/es/utils/isFunction.js","webpack:///../node_modules/redux-actions/es/utils/isSymbol.js","webpack:///../node_modules/redux-actions/es/utils/isEmpty.js","webpack:///../node_modules/redux-actions/es/utils/toString.js","webpack:///../node_modules/redux-actions/es/utils/isString.js","webpack:///../node_modules/redux-actions/es/constants.js","webpack:///../node_modules/redux-actions/es/combineActions.js","webpack:///../node_modules/redux-actions/es/utils/identity.js","webpack:///../node_modules/redux-actions/es/utils/isNull.js","webpack:///../node_modules/redux-actions/es/createAction.js","webpack:///../node_modules/redux-actions/es/utils/isPlainObject.js","webpack:///../node_modules/redux-actions/es/utils/isArray.js","webpack:///../node_modules/redux-actions/es/utils/isNil.js","webpack:///../node_modules/redux-actions/es/utils/getLastElement.js","webpack:///../node_modules/redux-actions/es/utils/camelCase.js","webpack:///../node_modules/redux-actions/es/utils/arrayToObject.js","webpack:///../node_modules/redux-actions/es/utils/isMap.js","webpack:///../node_modules/redux-actions/es/utils/ownKeys.js","webpack:///../node_modules/redux-actions/es/utils/get.js","webpack:///../node_modules/redux-actions/es/utils/flattenWhenNode.js","webpack:///../node_modules/redux-actions/es/utils/flattenActionMap.js","webpack:///../node_modules/redux-actions/es/utils/unflattenActionCreators.js","webpack:///../node_modules/redux-actions/es/createActions.js","webpack:///../node_modules/redux-actions/es/createCurriedAction.js","webpack:///../node_modules/redux-actions/es/utils/isUndefined.js","webpack:///../node_modules/redux-actions/es/handleAction.js","webpack:///../node_modules/reduce-reducers/es/index.js","webpack:///../node_modules/redux-actions/es/utils/hasGeneratorInterface.js","webpack:///../node_modules/redux-actions/es/utils/flattenReducerMap.js","webpack:///../node_modules/redux-actions/es/handleActions.js","webpack:///../node_modules/redux-actions/es/index.js","webpack:///./data/locations/firstLocation.js","webpack:///./data/locations/secondLocation.js","webpack:///./data/locations/index.js","webpack:///./constants/actions.js","webpack:///./reducers/general.js","webpack:///./constants/status-task.js","webpack:///./data/characters/vasia.js","webpack:///./data/characters/sokol.js","webpack:///./data/characters/index.js","webpack:///./reducers/conversation.js","webpack:///./data/tasks/index.js","webpack:///./reducers/book.js","webpack:///./reducers/index.js","webpack:///./middleware/noty.js","webpack:///./configureStore.js","webpack:///./components/character/index.js","webpack:///./components/arrow/index.js","webpack:///./components/location/index.js","webpack:///./components/conversation/index.js","webpack:///./components/inventory/index.js","webpack:///./components/task-list/index.js","webpack:///./components/task-description/index.js","webpack:///./components/chest/index.js","webpack:///./components/message/index.js","webpack:///./actions/general.js","webpack:///./actions/conversation.js","webpack:///./actions/book.js","webpack:///./selectors/general.js","webpack:///./selectors/conversation.js","webpack:///./selectors/book.js","webpack:///./routes/game/index.js","webpack:///./components/app.js","webpack:///./index.js","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///../node_modules/just-curry-it/index.js","webpack:///../node_modules/symbol-observable/es/index.js","webpack:///../node_modules/reselect/lib/index.js","webpack:///../node_modules/invariant/invariant.js","webpack:///../node_modules/reselect-immutable-helpers/node_modules/immutable/dist/immutable.js","webpack:///../node_modules/redux/es/redux.js","webpack:///./components/character/style.scss","webpack:///../node_modules/redux-immutable/dist/utilities/index.js","webpack:///../node_modules/to-camel-case/index.js","webpack:///../node_modules/to-no-case/index.js","webpack:///./components/message/style.scss","webpack:///./components/inventory/style.scss","webpack:///./components/chest/style.scss","webpack:///../node_modules/webpack/buildin/harmony-module.js","webpack:///../node_modules/reselect-immutable-helpers/dist.js","webpack:///./style/index.css","webpack:///./components/task-list/style.scss","webpack:///./routes/game/style.scss","webpack:///../node_modules/immutable/dist/immutable.es.js","webpack:///../node_modules/redux-immutable/dist/combineReducers.js","webpack:///./middleware/style.scss","webpack:///../node_modules/redux-devtools-extension/index.js"],"names":["Object","defineProperty","exports","value","default","action","type","module","clean","require","toSpaceCase","string","replace","matches","match","trim","nextState","reducerName","undefined","Error","_immutable","_immutable2","_interopRequireDefault","_getStateName","_getStateName2","obj","__esModule","state","reducers","reducerNames","keys","length","stateName","isImmutable","Iterable","isIterable","join","unexpectedStatePropertyNames","toSeq","keySeq","toArray","filter","name","hasOwnProperty","combineReducers","_combineReducers2","_combineReducers3","webpackUniversalModuleDefinition","root","factory","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","getter","o","configurable","enumerable","get","n","getDefault","getModuleExports","object","property","prototype","p","s","css","deepExtend","animationEndEvents","_typeof","Symbol","iterator","constructor","inArray","stopPropagation","generateID","outerHeight","addListener","hasClass","addClass","removeClass","remove","classList","visibilityChangeFlow","createAudioElements","_api","API","_interopRequireWildcard","newObj","key","needle","haystack","argStrict","strict","evt","window","event","cancelBubble","out","arguments","Array","isArray","prefix","id","r","Math","random","v","toString","el","height","offsetHeight","style","getComputedStyle","parseInt","marginTop","marginBottom","cssPrefixes","cssProps","camelCase","letter","toUpperCase","getVendorProp","document","body","capName","charAt","slice","vendorName","getStyleProp","applyCss","element","prop","properties","args","events","cb","useCapture","split","addEventListener","attachEvent","list","indexOf","oldList","newList","className","substring","parentNode","removeChild","hidden","visibilityChange","msHidden","webkitHidden","onVisibilityChange","PageHidden","handleVisibilityChange","onBlur","onFocus","stopAll","resumeAll","setTimeout","Store","forEach","options","visibilityControl","stop","resume","queueRenderAll","ref","hasSound","audioElement","createElement","sounds","sources","source","src","getExtension","appendChild","barDom","querySelector","volume","soundPlayed","play","onended","fileName","Defaults","Queues","DefaultMaxVisible","docTitle","DocModalCount","getQueueCounts","addToQueue","removeFromQueue","queueRender","ghostFix","build","hasButtons","handleModal","handleModalClose","queueClose","dequeueClose","fire","openFlow","closeFlow","_utils","Utils","DocTitleProps","originalTitle","count","changed","timer","increment","_update","decrement","_clear","title","global","maxVisible","queue","layout","theme","text","timeout","progressBar","closeWith","animation","open","close","force","killer","container","buttons","callbacks","beforeShow","onShow","afterShow","onClose","afterClose","onClick","onHover","onTemplate","conditions","titleCount","modal","queueName","max","closed","current","push","noty","shift","show","ghostID","ghost","setAttribute","insertAdjacentHTML","outerHTML","getElementById","findOrCreateContainer","markup","buildButtons","innerHTML","dom","btn","createModal","insertBefore","firstChild","layoutDom","layoutID","progressDom","transition","width","clearTimeout","closeTimer","eventName","listeners","apply","closing","querySelectorAll","NotyButton","_classCallCheck","instance","Constructor","TypeError","html","classes","_this","attributes","propertyName","_createClass","defineProperties","target","props","descriptor","writable","protoProps","staticProps","Push","workerPath","subData","onPermissionGranted","onPermissionDenied","onSubscriptionSuccess","onSubscriptionCancel","onWorkerError","onWorkerSuccess","onWorkerNotSupported","on","params","create","console","log","isSupported","result","Notification","webkitNotifications","navigator","mozNotification","external","msIsSiteMode","e","getPermissionStatus","perm","permissionLevel","checkPermission","permission","toLowerCase","getEndpoint","subscription","endpoint","subscriptionId","isSWRegistered","serviceWorker","controller","unregisterWorker","self","getRegistrations","then","registrations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","registration","unregister","err","return","requestSubscription","_this2","userVisibleOnly","register","ready","serviceWorkerRegistration","pushManager","subscribe","getKey","token","p256dh","btoa","String","fromCharCode","Uint8Array","auth","catch","requestPermission","process","ES6Promise","objectOrFunction","x","isFunction","_isArray","len","vertxNext","customSchedulerFn","asap","callback","arg","flush","scheduleFlush","setScheduler","scheduleFn","setAsap","asapFn","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useNextTick","nextTick","useVertxTimer","useSetTimeout","useMutationObserver","iterations","observer","node","createTextNode","observe","characterData","data","useMessageChannel","channel","port1","onmessage","port2","postMessage","globalSetTimeout","attemptVertx","vertx","runOnLoop","runOnContext","onFulfillment","onRejection","_arguments","parent","child","noop","PROMISE_ID","makePromise","_state","invokeCallback","_result","resolve$1","promise","resolve","PENDING","FULFILLED","REJECTED","GET_THEN_ERROR","ErrorObject","selfFulfillment","cannotReturnOwn","getThen","error","tryThen","then$$1","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","reason","reject","_label","handleOwnThenable","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","_subscribers","subscribers","settled","detail","TRY_CATCH_ERROR","tryCatch","hasCallback","succeeded","failed","initializePromise","resolver","resolvePromise","rejectPromise","nextId","Enumerator$1","input","_instanceConstructor","_remaining","_enumerate","validationError","_eachEntry","entry","resolve$$1","_then","_settledAt","Promise$2","_willSettleAt","enumerator","all$1","entries","race$1","_","reject$1","needsResolver","needsNew","all","race","_setScheduler","_setAsap","_asap","_catch","polyfill$1","local","Function","P","Promise","promiseToString","cast","polyfill","_es6Promise","_es6Promise2","_button","_push","Noty","showing","shown","killable","promises","closeAll","queueCounts","closeButton","bind","_t","_setTimeout","_x","ms","setText","optionsOverride","setType","setTheme","_this3","_this4","clearQueue","overrideDefaults","setMaxVisible","amount","button","innerHtml","version","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","run","Item","array","browser","env","argv","versions","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","g","eval","symbolObservablePonyfill","observable","EMPTY$1","assign","exec","url","route","opts","reg","ret","decodeURIComponent","segmentize","i$1","param","flags","plus","star","val","map","pathRankSort","a","b","rank","index","prepareVNodeForRanking","vnode","rankChild","rankSegment","segment","path","customHistory","ROUTERS","EMPTY","isPreactElement","__preactattr_","for","setUrl","history","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","routeTo","didRoute","routeFromLink","getAttribute","href","handleLinkClick","currentTarget","prevent","stopImmediatePropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","t","nodeName","hasAttribute","eventListenersInitialized","initEventListeners","Router","Component$$1","__proto__","shouldComponentUpdate","static","onChange","getMatchingChildren","children","_didRoute","setState","updating","forceUpdate","componentWillMount","componentDidMount","this$1","unlisten","listen","componentWillUnmount","splice","componentWillUpdate","componentDidUpdate","invoke","sort","newProps","cloneElement","Boolean","render","ref$1","active","previous","previousUrl","router","Component","Link","h","Route","component","Children","only","proptype","isRequired","PropTypes","func","shape","instanceOf","subscriptionShape","trySubscribe","tryUnsubscribe","notifyNestedSubs","isSubscribed","storeShape","dispatch","getState","warning","message","classCallCheck","_extends","inherits","subClass","superClass","setPrototypeOf","objectWithoutProperties","possibleConstructorReturn","ReferenceError","didWarnAboutReceivingStore","warnAboutReceivingStore","createProvider","_Provider$childContex","storeKey","subKey","subscriptionKey","Provider","_Component","getChildContext","_ref","context","store","componentWillReceiveProps","nextProps","childContextTypes","REACT_STATICS","contextTypes","defaultProps","displayName","getDefaultProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","defineProperty$1","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","invariant","CLEARED","nullListeners","notify","createListenerCollection","clear","get$$1","listener","unsubscribe","Subscription","parentSub","onStateChange","addNestedSub","hotReloadingVersion","dummyState","makeSelectorStateful","sourceSelector","selector","runComponentSelector","connectAdvanced","selectorFactory","_contextTypes","_childContextTypes","_ref$getDisplayName","getDisplayName","_ref$methodName","methodName","_ref$renderCountProp","renderCountProp","_ref$shouldHandleStat","shouldHandleStateChanges","_ref$storeKey","_ref$withRef","withRef","connectOptions","wrapWithConnect","WrappedComponent","JSON","stringify","wrappedComponentName","selectorFactoryOptions","Connect","renderCount","propsMode","setWrappedInstance","initSelector","initSubscription","_ref2","getWrappedInstance","wrappedInstance","notifyNestedSubsOnComponentDidUpdate","addExtraProps","withExtras","oldListeners","hasOwn","is","y","shallowEqual","objA","objB","keysA","keysB","freeGlobal","freeSelf","_Symbol","objectProto$1","hasOwnProperty$1","nativeObjectToString","symToStringTag$1","toStringTag","getRawTag","isOwn","tag","unmasked","objectProto$2","nativeObjectToString$1","objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","overArg","transform","getPrototype","isObjectLike","objectTag","funcProto","objectProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","verifyPlainObject","wrapMapToPropsConstant","getConstant","initConstantSelector","constant","constantSelector","dependsOnOwnProps","getDependsOnOwnProps","mapToProps","wrapMapToPropsFunc","initProxySelector","proxy","mapToPropsProxy","stateOrDispatch","ownProps","detectFactoryAndVerify","whenMapDispatchToPropsIsFunction","mapDispatchToProps","whenMapDispatchToPropsIsMissing","whenMapDispatchToPropsIsObject","bindActionCreators","defaultMapDispatchToPropsFactories","whenMapStateToPropsIsFunction","mapStateToProps","whenMapStateToPropsIsMissing","defaultMapStateToPropsFactories","defaultMergeProps","stateProps","dispatchProps","wrapMergePropsFunc","mergeProps","initMergePropsProxy","pure","areMergedPropsEqual","hasRunOnce","mergedProps","mergePropsProxy","nextMergedProps","whenMergePropsIsFunction","whenMergePropsIsOmitted","defaultMergePropsFactories","verify","verifySubselectors","impureFinalPropsSelectorFactory","impureFinalPropsSelector","pureFinalPropsSelectorFactory","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","hasRunAtLeastOnce","handleFirstCall","firstState","firstOwnProps","handleNewPropsAndNewState","handleNewProps","handleNewState","nextStateProps","statePropsChanged","handleSubsequentCalls","nextOwnProps","propsChanged","stateChanged","pureFinalPropsSelector","finalPropsSelectorFactory","initMapStateToProps","initMapDispatchToProps","initMergeProps","factories","strictEqual","createConnect","_ref$connectHOC","connectHOC","_ref$mapStateToPropsF","mapStateToPropsFactories","_ref$mapDispatchToPro","mapDispatchToPropsFactories","_ref$mergePropsFactor","mergePropsFactories","_ref$selectorFactory","connect","_ref2$pure","_ref2$areStatesEqual","_ref2$areOwnPropsEqua","_ref2$areStatePropsEq","_ref2$areMergedPropsE","extraOptions","DEFAULT_NAMESPACE","ACTION_TYPE_DELIMITER","isValidActionType","isString","isSymbol","isValidActionTypes","types","isEmpty","every","combineActions","_len","actionsTypes","_key","combinedActionType","createAction","payloadCreator","metaCreator","identity","isNull","finalPayloadCreator","head","hasMeta","typeString","actionCreator","payload","meta","namespacer","includes","reduce","partialObject","Map","ownKeys","isMap","from","Reflect","predicate","flatten","_temp","partialFlatMap","partialFlatActionType","_ref$namespace","namespace","connectNamespace","partials","connectPrefix","nextNamespace","mapValue","flattenWhenNode","unflattenActionCreators","flatActionCreators","unflatten","flatActionType","partialNestedActionCreators","partialFlatActionTypePath","nestedActionCreators","unprefixedType","_objectSpread","sym","_defineProperty","createActions","actionMap","identityActions","getLastElement","pop","actionCreatorsFromIdentityActions","actionCreatorsFromActionMap","flatActionMap","flattenActionMap","actionMapToActionCreators","isValidActionMapValue","actionMapValue","isNil","_actionMapValue$","arrayToObject","partialActionCreators","_objectSpread2","prefixedType","partialActionMap","_objectSpread3","actionCreators","_objectSpread4","curry","handleAction","reducer","defaultState","isUndefined","throw","aReducer","nextReducer","throwReducer","actionType","initialState","prevState","_len2","_key2","prevStateIsUndefined","valueIsUndefined","newState","hasGeneratorInterface","handler","hasOnlyInterfaceNames","ownKey","handleActions","handlers","flattenedReducerMap","flattenReducerMap","reduceReducers","characters","available","nextLocations","firstLocation","secondLocation","CHANGE_LOCATION","START_DIALOG","NEXT_DIALOG","CLOSE_DIALOG","ADD_TASK","CHANGE_STATUS_TASK","ADD_TIP_TO_TASK","SAVE_CHARACTER_TO_HISTORY","ADD_OBJECT_TO_INVENTORY","REMOVE_OBJECT_TO_INVENTORY","OPEN_CHEST","CLOSE_CHEST","DISPLAY_TASK","SET_MESSAGE","fromJS","locations","locationActive","inventory","List","actions","isOpenChest","displayTask","general","locationName","has","merge","_object","NEW","DONE","FAILED","startDialog","dialogs","offerTask","answers","character","task","status","answerParcel","tasks","description","tip","getOut","Vasia","vasia","Sokol","sokol","dialog","conversation","characterName","characterFromHistory","find","_character","parcel","tips","book","taskName","_task","nextTask","createNoty","notyMiddleware","configureStore","createStore","rootReducer","composeWithDevTools","applyMiddleware","Character","handlerClick","Arrow","handlerOnClick","arrow","Location","handlerChangeLocation","handlerClickCharacter","Conversation","handlerNextDialog","handlerCloseDialog","checkConditions","answer","Inventory","TaskList","idx","TaskDescription","Chest","handlerOpenChest","handlerCloseChest","handlerDisplayTask","chest","Message","reload","changeLocation","addObjectToInventory","removeObjectToInventory","openChest","closeChest","setMessage","nextDialog","closeDialog","saveCharacterToHistory","addTask","changeStatusTask","addTipToTask","displayTaskAction","getGeneral","createGetSelector","getLocationActive","getInventory","isOpenChestSelector","getMessageSelector","getConversation","getDialog","getCharacter","getBook","getTasks","displayTaskSelect","Game","handlerDialog","handlerAddTask","handlerAddTipToTask","handlerSaveCharacterToHistory","handlerAddInventory","handlerRemoveInventory","handlerChangeStatusTask","handlerSetMessage","handlerStartDialog","game","createPropsSelector","App","handleRoute","currentUrl","W","T","M","__d","V","debounceRendering","D","splitText","_componentConstructor","__n","u","createElementNS","cssText","E","test","__html","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","f","A","afterMount","H","R","ownerSVGElement","B","_component","nodeValue","replaceChild","N","nextSibling","dangerouslySetInnerHTML","childNodes","w","C","k","__k","lastChild","previousSibling","F","U","__b","__x","__r","getDerivedStateFromProps","base","__c","__p","syncComponentUpdates","__s","S","getSnapshotBeforeUpdate","L","__u","afterUpdate","__h","beforeUnmount","j","createRef","rerender","preact","fn","curried","ponyfill","defaultMemoize","createSelectorCreator","createStructuredSelector","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","lastArgs","lastResult","getDependencies","funcs","dependencies","dep","dependencyTypes","memoize","memoizeOptions","recomputations","resultFunc","memoizedResultFunc","resetRecomputations","createSelector","selectors","selectorCreator","objectKeys","_len3","values","_key3","composition","NODE_ENV","condition","format","argIndex","framesToPop","Immutable","SLICE$0","createClass","ctor","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","Set","DELETE","SHIFT","SIZE","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","arr","offset","newArr","ii","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","end","resolveBegin","resolveIndex","resolveEnd","defaultIndex","min","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","KEYS","VALUES","ENTRIES","inspect","toSource","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","seqFromValue","of","__toString","cacheResult","_cache","__iterateUncached","entrySeq","reverse","seqIterate","__iterator","seqIterator","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","indexedSeqFromValue","toIndexedSeq","toSetSeq","isSeq","IS_SEQ_SENTINEL","ArraySeq","_array","notSetValue","maxIndex","ObjectSeq","_keys","IterableSeq","_iterable","step","__iteratorUncached","IteratorSeq","_iteratorCache","cache","maybeSeq","EMPTY_SEQ","seq","maybeIndexedSeqFromValue","useKeys","json","converter","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toList","toMap","valueA","valueB","valueOf","equals","deepEqual","__hash","notAssociative","flipped","allEqual","bSize","Repeat","times","_value","Infinity","EMPTY_REPEAT","searchValue","lastIndexOf","this$0","other","Range","start","abs","_start","_end","ceil","EMPTY_RANGE","possibleIndex","floor","offsetValue","Collection","KeyedCollection","IndexedCollection","SetCollection","imul","smi","i32","hash","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","charCodeAt","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","set","isExtensible","nodeType","uniqueID","documentElement","WeakMap","assertNotInfinite","emptyMap","withMutations","keyValues","_root","updateMap","setIn","keyPath","updateIn","deleteIn","update","updater","updatedValue","updateInDeepMap","forceIterator","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","iters","mergeIn","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","OrderedMap","sortFactory","sortBy","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","maybeMap","IS_MAP_SENTINEL","MapPrototype","removeIn","ArrayMapNode","keyHash","didChangeSize","didAlter","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","nodes","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","spliceOut","spliceIn","HashArrayMapNode","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","_type","_reverse","_stack","mapIteratorFrame","stack","mapIteratorValue","subNode","__prev","EMPTY_MAP","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","iterables","mergeIntoCollectionWith","existing","nextValue","collection","mergeIntoMap","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","canEdit","newArray","newLen","after","empty","emptyList","isList","makeList","VNode","setSize","_origin","listNodeFor","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","unshift","mergeIntoListWith","iterateList","maybeList","IS_LIST_SENTINEL","ListPrototype","removeBefore","level","originIndex","removingFirst","newChild","oldChild","editable","editableVNode","removeAfter","sizeIndex","left","right","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","to","origin","capacity","EMPTY_LIST","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","_map","_list","updateOrderedMap","newMap","makeOrderedMap","maybeOrderedMap","omap","EMPTY_ORDERED_MAP","flip","ToKeyedSequence","indexed","_iter","_useKeys","valueSeq","reversedSequence","reverseFactory","mappedSequence","mapFactory","resolveSize","ToIndexedSequence","ToSetSequence","FromEntriesSequence","validateEntry","indexedIterable","cacheResultThrough","flipFactory","flipSequence","makeSequence","filterFactory","filterSequence","countByFactory","grouper","groups","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","resolvedSize","sliceSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","sum","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","flatMapFactory","interposeFactory","separator","interposedSequence","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","some","Record","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","recordName","defaultVal","_empty","makeRecord","likeRecord","record","names","setProp","emptySet","isSet","add","fromKeys","updateSet","union","intersect","originalSet","subtract","OrderedSet","__make","maybeSet","IS_SET_SENTINEL","SetPrototype","__empty","makeSet","EMPTY_SET","emptyOrderedSet","isOrderedSet","maybeOrderedSet","OrderedSetPrototype","makeOrderedSet","EMPTY_ORDERED_SET","Stack","emptyStack","isStack","unshiftAll","_head","peek","makeStack","pushAll","maybeStack","IS_STACK_SENTINEL","StackPrototype","EMPTY_STACK","mixin","methods","keyCopier","toJS","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","findEntry","sideEffect","joined","isFirst","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","countBy","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","getIn","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","hashIterable","IterablePrototype","quoteString","chain","contains","mapEntries","mapKeys","KeyedIterablePrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","ordered","keyed","hashMerge","murmurHashOfSize","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","replaceReducer","outerSubscribe","observeState","$$observable","getUndefinedStateErrorMessage","actionDescription","getUnexpectedStateShapeWarningMessage","inputState","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","assertReducerShape","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","_i","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","boundActionCreators","compose","middlewares","_dispatch","middlewareAPI","middleware","isCrushed","validateNextState","getUnexpectedInvocationParameterMessage","getStateName","_getStateName3","_getUnexpectedInvocationParameterMessage2","_getUnexpectedInvocationParameterMessage3","_validateNextState2","_validateNextState3","space","toCamelCase","toNoCase","hasSpace","hasSeparator","hasCamel","unseparate","uncamelize","separatorSplitter","camelSplitter","uppers","originalModule","webpackPolyfill","createHasSelector","invertSelector","ensureJSSelector","selectorToJS","createImmutableComparingSelector","_reselect","raw","item","wrappedSelectors","defaultValue","keyValue","bool","isNeg","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","IS_KEYED_SYMBOL","IS_INDEXED_SYMBOL","IS_SEQ_SYMBOL","IS_RECORD_SYMBOL","isRecord","maybeRecord","maybeImmutable","IS_ORDERED_SYMBOL","Number","isInteger","Collection$$1","CollectionSeq","_collection","IS_MAP_SYMBOL","isValueObject","maybeValue","defaultValueOf","hashNumber","hashed","KeyedSeq$$1","IndexedSeq$$1","SetSeq$$1","indexedCollection","collectionClass","isKeyedCollection","zipAll","sizes","coerceKeyPath","isDataStructure","_ignoreError","shallowCopy","collectionCopy","updateInDeeply","inImmutable","wasNotSet","setIn$1","update$1","updateIn$1","mergeIntoKeyedWith","collections","collection$1","mergeIntoCollection","oldVal","merge$1","mergeWithSources","mergeWith$1","mergeDeepWithSources","merged","mergeItem","hasVal","nextVal","oldValue","mergeDeep$1","mergeDeepWith$1","KeyedCollection$$1","deleteAll","removeAll","setAt","Iterator$$1","hash$$1","IS_LIST_SYMBOL","IndexedCollection$$1","arguments$1","seqs","argument","Map$$1","IS_STACK_SYMBOL","IS_SET_SYMBOL","result$1","SetCollection$$1","sets","removes","adds","mapped","toRemove","getIn$1","hasIn$1","useTuples","toJS$1","reduce$1","hashCollection","CollectionPrototype","KeyedCollectionPrototype","IndexedCollectionPrototype","Set$$1","indices","_indices","propName","warn","_values","str","recordSeq","newValues","getDescriptiveName","defaultConverter","parentValue","converted","_utilities","getDefaultState","temporaryState","currentDomainState","nextDomainState","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","devToolsEnhancer","__REDUX_DEVTOOLS_EXTENSION__"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"JkW7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c3742bd7b03f00f47de","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (action) {\n  return action && action.type === '@@redux/INIT' ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=getStateName.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/utilities/getStateName.js","\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/to-space-case/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (nextState, reducerName, action) {\n  // eslint-disable-next-line no-undefined\n  if (nextState === undefined) {\n    throw new Error('Reducer \"' + reducerName + '\" returned undefined when handling \"' + action.type + '\" action. To ignore an action, you must explicitly return the previous state.');\n  }\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=validateNextState.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/utilities/validateNextState.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"location--type-firstLocation\":\"location--type-firstLocation__3l4S8\",\"Vasia\":\"Vasia__3aWyP\",\"secondLocation\":\"secondLocation__2AT-1\",\"location--type-secondLocation\":\"location--type-secondLocation__sxnew\",\"Sokol\":\"Sokol__16riw\",\"firstLocation\":\"firstLocation__Fp9IR\",\"location\":\"location__3MKUz\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/location/style.scss\n// module id = 9UV0\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"conversation\":\"conversation__3mSUd\",\"conversation--bg\":\"conversation--bg__1GN0n\",\"conversation--answers\":\"conversation--answers__2I6Qb\",\"conversation--content\":\"conversation--content__1vt9r\",\"conversation--text\":\"conversation--text__-mA6T\",\"conversation--avatar\":\"conversation--avatar__2aZM9\",\"conversation--hr\":\"conversation--hr__2PzA8\",\"conversation--name\":\"conversation--name__1cuZh\",\"conversation--panel\":\"conversation--panel__1Z4sp\",\"conversation--button-disabled\":\"conversation--button-disabled__3xhhD\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/conversation/style.scss\n// module id = A00b\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"arrow\":\"arrow__2_DE2\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/arrow/style.scss\n// module id = DWKC\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"task-description\":\"task-description__28FzF\",\"task-description--hr\":\"task-description--hr__3BYBx\",\"task-description--tip\":\"task-description--tip__hBTbM\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/task-description/style.scss\n// module id = Dmfw\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _getStateName = require('./getStateName');\n\nvar _getStateName2 = _interopRequireDefault(_getStateName);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (state, reducers, action) {\n  var reducerNames = Object.keys(reducers);\n\n  if (!reducerNames.length) {\n    return 'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.';\n  }\n\n  var stateName = (0, _getStateName2.default)(action);\n\n  if (_immutable2.default.isImmutable ? !_immutable2.default.isImmutable(state) : !_immutable2.default.Iterable.isIterable(state)) {\n    return 'The ' + stateName + ' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: \"' + reducerNames.join('\", \"') + '\".';\n  }\n\n  var unexpectedStatePropertyNames = state.toSeq().keySeq().toArray().filter(function (name) {\n    return !reducers.hasOwnProperty(name);\n  });\n\n  if (unexpectedStatePropertyNames.length > 0) {\n    return 'Unexpected ' + (unexpectedStatePropertyNames.length === 1 ? 'property' : 'properties') + ' \"' + unexpectedStatePropertyNames.join('\", \"') + '\" found in ' + stateName + '. Expected to find one of the known reducer property names instead: \"' + reducerNames.join('\", \"') + '\". Unexpected properties will be ignored.';\n  }\n\n  return null;\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=getUnexpectedInvocationParameterMessage.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/utilities/getUnexpectedInvocationParameterMessage.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.combineReducers = undefined;\n\nvar _combineReducers2 = require('./combineReducers');\n\nvar _combineReducers3 = _interopRequireDefault(_combineReducers2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.combineReducers = _combineReducers3.default;\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/index.js","/* \r\n  @package NOTY - Dependency-free notification library \r\n  @version version: 3.2.0-beta \r\n  @contributors https://github.com/needim/noty/graphs/contributors \r\n  @documentation Examples and Documentation - https://ned.im/noty \r\n  @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php \r\n*/\r\n\r\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Noty\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Noty\"] = factory();\n\telse\n\t\troot[\"Noty\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.css = exports.deepExtend = exports.animationEndEvents = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.inArray = inArray;\nexports.stopPropagation = stopPropagation;\nexports.generateID = generateID;\nexports.outerHeight = outerHeight;\nexports.addListener = addListener;\nexports.hasClass = hasClass;\nexports.addClass = addClass;\nexports.removeClass = removeClass;\nexports.remove = remove;\nexports.classList = classList;\nexports.visibilityChangeFlow = visibilityChangeFlow;\nexports.createAudioElements = createAudioElements;\n\nvar _api = __webpack_require__(1);\n\nvar API = _interopRequireWildcard(_api);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar animationEndEvents = exports.animationEndEvents = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n\nfunction inArray(needle, haystack, argStrict) {\n  var key = void 0;\n  var strict = !!argStrict;\n\n  if (strict) {\n    for (key in haystack) {\n      if (haystack.hasOwnProperty(key) && haystack[key] === needle) {\n        return true;\n      }\n    }\n  } else {\n    for (key in haystack) {\n      if (haystack.hasOwnProperty(key) && haystack[key] === needle) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction stopPropagation(evt) {\n  evt = evt || window.event;\n\n  if (typeof evt.stopPropagation !== 'undefined') {\n    evt.stopPropagation();\n  } else {\n    evt.cancelBubble = true;\n  }\n}\n\nvar deepExtend = exports.deepExtend = function deepExtend(out) {\n  out = out || {};\n\n  for (var i = 1; i < arguments.length; i++) {\n    var obj = arguments[i];\n\n    if (!obj) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (Array.isArray(obj[key])) {\n          out[key] = obj[key];\n        } else if (_typeof(obj[key]) === 'object' && obj[key] !== null) {\n          out[key] = deepExtend(out[key], obj[key]);\n        } else {\n          out[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  return out;\n};\n\nfunction generateID() {\n  var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var id = 'noty_' + prefix + '_';\n\n  id += 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n\n  return id;\n}\n\nfunction outerHeight(el) {\n  var height = el.offsetHeight;\n  var style = window.getComputedStyle(el);\n\n  height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n  return height;\n}\n\nvar css = exports.css = function () {\n  var cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n  var cssProps = {};\n\n  function camelCase(string) {\n    return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function (match, letter) {\n      return letter.toUpperCase();\n    });\n  }\n\n  function getVendorProp(name) {\n    var style = document.body.style;\n    if (name in style) return name;\n\n    var i = cssPrefixes.length;\n    var capName = name.charAt(0).toUpperCase() + name.slice(1);\n    var vendorName = void 0;\n\n    while (i--) {\n      vendorName = cssPrefixes[i] + capName;\n      if (vendorName in style) return vendorName;\n    }\n\n    return name;\n  }\n\n  function getStyleProp(name) {\n    name = camelCase(name);\n    return cssProps[name] || (cssProps[name] = getVendorProp(name));\n  }\n\n  function applyCss(element, prop, value) {\n    prop = getStyleProp(prop);\n    element.style[prop] = value;\n  }\n\n  return function (element, properties) {\n    var args = arguments;\n    var prop = void 0;\n    var value = void 0;\n\n    if (args.length === 2) {\n      for (prop in properties) {\n        if (properties.hasOwnProperty(prop)) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) {\n            applyCss(element, prop, value);\n          }\n        }\n      }\n    } else {\n      applyCss(element, args[1], args[2]);\n    }\n  };\n}();\n\nfunction addListener(el, events, cb) {\n  var useCapture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  events = events.split(' ');\n  for (var i = 0; i < events.length; i++) {\n    if (document.addEventListener) {\n      el.addEventListener(events[i], cb, useCapture);\n    } else if (document.attachEvent) {\n      el.attachEvent('on' + events[i], cb);\n    }\n  }\n}\n\nfunction hasClass(element, name) {\n  var list = typeof element === 'string' ? element : classList(element);\n  return list.indexOf(' ' + name + ' ') >= 0;\n}\n\nfunction addClass(element, name) {\n  var oldList = classList(element);\n  var newList = oldList + name;\n\n  if (hasClass(oldList, name)) return;\n\n  // Trim the opening space.\n  element.className = newList.substring(1);\n}\n\nfunction removeClass(element, name) {\n  var oldList = classList(element);\n  var newList = void 0;\n\n  if (!hasClass(element, name)) return;\n\n  // Replace the class name.\n  newList = oldList.replace(' ' + name + ' ', ' ');\n\n  // Trim the opening and closing spaces.\n  element.className = newList.substring(1, newList.length - 1);\n}\n\nfunction remove(element) {\n  if (element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\nfunction classList(element) {\n  return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n}\n\nfunction visibilityChangeFlow() {\n  var hidden = void 0;\n  var visibilityChange = void 0;\n  if (typeof document.hidden !== 'undefined') {\n    // Opera 12.10 and Firefox 18 and later support\n    hidden = 'hidden';\n    visibilityChange = 'visibilitychange';\n  } else if (typeof document.msHidden !== 'undefined') {\n    hidden = 'msHidden';\n    visibilityChange = 'msvisibilitychange';\n  } else if (typeof document.webkitHidden !== 'undefined') {\n    hidden = 'webkitHidden';\n    visibilityChange = 'webkitvisibilitychange';\n  }\n\n  function onVisibilityChange() {\n    API.PageHidden = document[hidden];\n    handleVisibilityChange();\n  }\n\n  function onBlur() {\n    API.PageHidden = true;\n    handleVisibilityChange();\n  }\n\n  function onFocus() {\n    API.PageHidden = false;\n    handleVisibilityChange();\n  }\n\n  function handleVisibilityChange() {\n    if (API.PageHidden) stopAll();else resumeAll();\n  }\n\n  function stopAll() {\n    setTimeout(function () {\n      Object.keys(API.Store).forEach(function (id) {\n        if (API.Store.hasOwnProperty(id)) {\n          if (API.Store[id].options.visibilityControl) {\n            API.Store[id].stop();\n          }\n        }\n      });\n    }, 100);\n  }\n\n  function resumeAll() {\n    setTimeout(function () {\n      Object.keys(API.Store).forEach(function (id) {\n        if (API.Store.hasOwnProperty(id)) {\n          if (API.Store[id].options.visibilityControl) {\n            API.Store[id].resume();\n          }\n        }\n      });\n      API.queueRenderAll();\n    }, 100);\n  }\n\n  if (visibilityChange) {\n    addListener(document, visibilityChange, onVisibilityChange);\n  }\n\n  addListener(window, 'blur', onBlur);\n  addListener(window, 'focus', onFocus);\n}\n\nfunction createAudioElements(ref) {\n  if (ref.hasSound) {\n    var audioElement = document.createElement('audio');\n\n    ref.options.sounds.sources.forEach(function (s) {\n      var source = document.createElement('source');\n      source.src = s;\n      source.type = 'audio/' + getExtension(s);\n      audioElement.appendChild(source);\n    });\n\n    if (ref.barDom) {\n      ref.barDom.appendChild(audioElement);\n    } else {\n      document.querySelector('body').appendChild(audioElement);\n    }\n\n    audioElement.volume = ref.options.sounds.volume;\n\n    if (!ref.soundPlayed) {\n      audioElement.play();\n      ref.soundPlayed = true;\n    }\n\n    audioElement.onended = function () {\n      remove(audioElement);\n    };\n  }\n}\n\nfunction getExtension(fileName) {\n  return fileName.match(/\\.([^.]+)$/)[1];\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Defaults = exports.Store = exports.Queues = exports.DefaultMaxVisible = exports.docTitle = exports.DocModalCount = exports.PageHidden = undefined;\nexports.getQueueCounts = getQueueCounts;\nexports.addToQueue = addToQueue;\nexports.removeFromQueue = removeFromQueue;\nexports.queueRender = queueRender;\nexports.queueRenderAll = queueRenderAll;\nexports.ghostFix = ghostFix;\nexports.build = build;\nexports.hasButtons = hasButtons;\nexports.handleModal = handleModal;\nexports.handleModalClose = handleModalClose;\nexports.queueClose = queueClose;\nexports.dequeueClose = dequeueClose;\nexports.fire = fire;\nexports.openFlow = openFlow;\nexports.closeFlow = closeFlow;\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PageHidden = exports.PageHidden = false;\nvar DocModalCount = exports.DocModalCount = 0;\n\nvar DocTitleProps = {\n  originalTitle: null,\n  count: 0,\n  changed: false,\n  timer: -1\n};\n\nvar docTitle = exports.docTitle = {\n  increment: function increment() {\n    DocTitleProps.count++;\n\n    docTitle._update();\n  },\n\n  decrement: function decrement() {\n    DocTitleProps.count--;\n\n    if (DocTitleProps.count <= 0) {\n      docTitle._clear();\n      return;\n    }\n\n    docTitle._update();\n  },\n\n  _update: function _update() {\n    var title = document.title;\n\n    if (!DocTitleProps.changed) {\n      DocTitleProps.originalTitle = title;\n      document.title = '(' + DocTitleProps.count + ') ' + title;\n      DocTitleProps.changed = true;\n    } else {\n      document.title = '(' + DocTitleProps.count + ') ' + DocTitleProps.originalTitle;\n    }\n  },\n\n  _clear: function _clear() {\n    if (DocTitleProps.changed) {\n      DocTitleProps.count = 0;\n      document.title = DocTitleProps.originalTitle;\n      DocTitleProps.changed = false;\n    }\n  }\n};\n\nvar DefaultMaxVisible = exports.DefaultMaxVisible = 5;\n\nvar Queues = exports.Queues = {\n  global: {\n    maxVisible: DefaultMaxVisible,\n    queue: []\n  }\n};\n\nvar Store = exports.Store = {};\n\nvar Defaults = exports.Defaults = {\n  type: 'alert',\n  layout: 'topRight',\n  theme: 'mint',\n  text: '',\n  timeout: false,\n  progressBar: true,\n  closeWith: ['click'],\n  animation: {\n    open: 'noty_effects_open',\n    close: 'noty_effects_close'\n  },\n  id: false,\n  force: false,\n  killer: false,\n  queue: 'global',\n  container: false,\n  buttons: [],\n  callbacks: {\n    beforeShow: null,\n    onShow: null,\n    afterShow: null,\n    onClose: null,\n    afterClose: null,\n    onClick: null,\n    onHover: null,\n    onTemplate: null\n  },\n  sounds: {\n    sources: [],\n    volume: 1,\n    conditions: []\n  },\n  titleCount: {\n    conditions: []\n  },\n  modal: false,\n  visibilityControl: false\n\n  /**\r\n   * @param {string} queueName\r\n   * @return {object}\r\n   */\n};function getQueueCounts() {\n  var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n\n  var count = 0;\n  var max = DefaultMaxVisible;\n\n  if (Queues.hasOwnProperty(queueName)) {\n    max = Queues[queueName].maxVisible;\n    Object.keys(Store).forEach(function (i) {\n      if (Store[i].options.queue === queueName && !Store[i].closed) count++;\n    });\n  }\n\n  return {\n    current: count,\n    maxVisible: max\n  };\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction addToQueue(ref) {\n  if (!Queues.hasOwnProperty(ref.options.queue)) {\n    Queues[ref.options.queue] = { maxVisible: DefaultMaxVisible, queue: [] };\n  }\n\n  Queues[ref.options.queue].queue.push(ref);\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction removeFromQueue(ref) {\n  if (Queues.hasOwnProperty(ref.options.queue)) {\n    var queue = [];\n    Object.keys(Queues[ref.options.queue].queue).forEach(function (i) {\n      if (Queues[ref.options.queue].queue[i].id !== ref.id) {\n        queue.push(Queues[ref.options.queue].queue[i]);\n      }\n    });\n    Queues[ref.options.queue].queue = queue;\n  }\n}\n\n/**\r\n * @param {string} queueName\r\n * @return {void}\r\n */\nfunction queueRender() {\n  var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n\n  if (Queues.hasOwnProperty(queueName)) {\n    var noty = Queues[queueName].queue.shift();\n\n    if (noty) noty.show();\n  }\n}\n\n/**\r\n * @return {void}\r\n */\nfunction queueRenderAll() {\n  Object.keys(Queues).forEach(function (queueName) {\n    queueRender(queueName);\n  });\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction ghostFix(ref) {\n  var ghostID = Utils.generateID('ghost');\n  var ghost = document.createElement('div');\n  ghost.setAttribute('id', ghostID);\n  Utils.css(ghost, {\n    height: Utils.outerHeight(ref.barDom) + 'px'\n  });\n\n  ref.barDom.insertAdjacentHTML('afterend', ghost.outerHTML);\n\n  Utils.remove(ref.barDom);\n  ghost = document.getElementById(ghostID);\n  Utils.addClass(ghost, 'noty_fix_effects_height');\n  Utils.addListener(ghost, Utils.animationEndEvents, function () {\n    Utils.remove(ghost);\n  });\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction build(ref) {\n  findOrCreateContainer(ref);\n\n  var markup = '<div class=\"noty_body\">' + ref.options.text + '</div>' + buildButtons(ref) + '<div class=\"noty_progressbar\"></div>';\n\n  ref.barDom = document.createElement('div');\n  ref.barDom.setAttribute('id', ref.id);\n  Utils.addClass(ref.barDom, 'noty_bar noty_type__' + ref.options.type + ' noty_theme__' + ref.options.theme);\n\n  ref.barDom.innerHTML = markup;\n\n  fire(ref, 'onTemplate');\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {boolean}\r\n */\nfunction hasButtons(ref) {\n  return !!(ref.options.buttons && Object.keys(ref.options.buttons).length);\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {string}\r\n */\nfunction buildButtons(ref) {\n  if (hasButtons(ref)) {\n    var buttons = document.createElement('div');\n    Utils.addClass(buttons, 'noty_buttons');\n\n    Object.keys(ref.options.buttons).forEach(function (key) {\n      buttons.appendChild(ref.options.buttons[key].dom);\n    });\n\n    ref.options.buttons.forEach(function (btn) {\n      buttons.appendChild(btn.dom);\n    });\n    return buttons.outerHTML;\n  }\n  return '';\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction handleModal(ref) {\n  if (ref.options.modal) {\n    if (DocModalCount === 0) {\n      createModal(ref);\n    }\n\n    exports.DocModalCount = DocModalCount += 1;\n  }\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction handleModalClose(ref) {\n  if (ref.options.modal && DocModalCount > 0) {\n    exports.DocModalCount = DocModalCount -= 1;\n\n    if (DocModalCount <= 0) {\n      var modal = document.querySelector('.noty_modal');\n\n      if (modal) {\n        Utils.removeClass(modal, 'noty_modal_open');\n        Utils.addClass(modal, 'noty_modal_close');\n        Utils.addListener(modal, Utils.animationEndEvents, function () {\n          Utils.remove(modal);\n        });\n      }\n    }\n  }\n}\n\n/**\r\n * @return {void}\r\n */\nfunction createModal() {\n  var body = document.querySelector('body');\n  var modal = document.createElement('div');\n  Utils.addClass(modal, 'noty_modal');\n  body.insertBefore(modal, body.firstChild);\n  Utils.addClass(modal, 'noty_modal_open');\n\n  Utils.addListener(modal, Utils.animationEndEvents, function () {\n    Utils.removeClass(modal, 'noty_modal_open');\n  });\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction findOrCreateContainer(ref) {\n  if (ref.options.container) {\n    ref.layoutDom = document.querySelector(ref.options.container);\n    return;\n  }\n\n  var layoutID = 'noty_layout__' + ref.options.layout;\n  ref.layoutDom = document.querySelector('div#' + layoutID);\n\n  if (!ref.layoutDom) {\n    ref.layoutDom = document.createElement('div');\n    ref.layoutDom.setAttribute('id', layoutID);\n    ref.layoutDom.setAttribute('role', 'alert');\n    ref.layoutDom.setAttribute('aria-live', 'polite');\n    Utils.addClass(ref.layoutDom, 'noty_layout');\n    document.querySelector('body').appendChild(ref.layoutDom);\n  }\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction queueClose(ref) {\n  if (ref.options.timeout) {\n    if (ref.options.progressBar && ref.progressDom) {\n      Utils.css(ref.progressDom, {\n        transition: 'width ' + ref.options.timeout + 'ms linear',\n        width: '0%'\n      });\n    }\n\n    clearTimeout(ref.closeTimer);\n\n    ref.closeTimer = setTimeout(function () {\n      ref.close();\n    }, ref.options.timeout);\n  }\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction dequeueClose(ref) {\n  if (ref.options.timeout && ref.closeTimer) {\n    clearTimeout(ref.closeTimer);\n    ref.closeTimer = -1;\n\n    if (ref.options.progressBar && ref.progressDom) {\n      Utils.css(ref.progressDom, {\n        transition: 'width 0ms linear',\n        width: '100%'\n      });\n    }\n  }\n}\n\n/**\r\n * @param {Noty} ref\r\n * @param {string} eventName\r\n * @return {void}\r\n */\nfunction fire(ref, eventName) {\n  if (ref.listeners.hasOwnProperty(eventName)) {\n    ref.listeners[eventName].forEach(function (cb) {\n      if (typeof cb === 'function') {\n        cb.apply(ref);\n      }\n    });\n  }\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction openFlow(ref) {\n  fire(ref, 'afterShow');\n  queueClose(ref);\n\n  Utils.addListener(ref.barDom, 'mouseenter', function () {\n    dequeueClose(ref);\n  });\n\n  Utils.addListener(ref.barDom, 'mouseleave', function () {\n    queueClose(ref);\n  });\n}\n\n/**\r\n * @param {Noty} ref\r\n * @return {void}\r\n */\nfunction closeFlow(ref) {\n  delete Store[ref.id];\n  ref.closing = false;\n  fire(ref, 'afterClose');\n\n  Utils.remove(ref.barDom);\n\n  if (ref.layoutDom.querySelectorAll('.noty_bar').length === 0 && !ref.options.container) {\n    Utils.remove(ref.layoutDom);\n  }\n\n  if (Utils.inArray('docVisible', ref.options.titleCount.conditions) || Utils.inArray('docHidden', ref.options.titleCount.conditions)) {\n    docTitle.decrement();\n  }\n\n  queueRender(ref.options.queue);\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NotyButton = undefined;\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NotyButton = exports.NotyButton = function NotyButton(html, classes, cb) {\n  var _this = this;\n\n  var attributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  _classCallCheck(this, NotyButton);\n\n  this.dom = document.createElement('button');\n  this.dom.innerHTML = html;\n  this.id = attributes.id = attributes.id || Utils.generateID('button');\n  this.cb = cb;\n  Object.keys(attributes).forEach(function (propertyName) {\n    _this.dom.setAttribute(propertyName, attributes[propertyName]);\n  });\n  Utils.addClass(this.dom, classes || 'noty_btn');\n\n  return this;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Push = exports.Push = function () {\n  function Push() {\n    var workerPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/service-worker.js';\n\n    _classCallCheck(this, Push);\n\n    this.subData = {};\n    this.workerPath = workerPath;\n    this.listeners = {\n      onPermissionGranted: [],\n      onPermissionDenied: [],\n      onSubscriptionSuccess: [],\n      onSubscriptionCancel: [],\n      onWorkerError: [],\n      onWorkerSuccess: [],\n      onWorkerNotSupported: []\n    };\n    return this;\n  }\n\n  /**\r\n   * @param {string} eventName\r\n   * @param {function} cb\r\n   * @return {Push}\r\n   */\n\n\n  _createClass(Push, [{\n    key: 'on',\n    value: function on(eventName) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      if (typeof cb === 'function' && this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].push(cb);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'fire',\n    value: function fire(eventName) {\n      var _this = this;\n\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].forEach(function (cb) {\n          if (typeof cb === 'function') {\n            cb.apply(_this, params);\n          }\n        });\n      }\n    }\n  }, {\n    key: 'create',\n    value: function create() {\n      console.log('NOT IMPLEMENTED YET');\n    }\n\n    /**\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: 'isSupported',\n    value: function isSupported() {\n      var result = false;\n\n      try {\n        result = window.Notification || window.webkitNotifications || navigator.mozNotification || window.external && window.external.msIsSiteMode() !== undefined;\n      } catch (e) {}\n\n      return result;\n    }\n\n    /**\r\n     * @return {string}\r\n     */\n\n  }, {\n    key: 'getPermissionStatus',\n    value: function getPermissionStatus() {\n      var perm = 'default';\n\n      if (window.Notification && window.Notification.permissionLevel) {\n        perm = window.Notification.permissionLevel;\n      } else if (window.webkitNotifications && window.webkitNotifications.checkPermission) {\n        switch (window.webkitNotifications.checkPermission()) {\n          case 1:\n            perm = 'default';\n            break;\n          case 0:\n            perm = 'granted';\n            break;\n          default:\n            perm = 'denied';\n        }\n      } else if (window.Notification && window.Notification.permission) {\n        perm = window.Notification.permission;\n      } else if (navigator.mozNotification) {\n        perm = 'granted';\n      } else if (window.external && window.external.msIsSiteMode() !== undefined) {\n        perm = window.external.msIsSiteMode() ? 'granted' : 'default';\n      }\n\n      return perm.toString().toLowerCase();\n    }\n\n    /**\r\n     * @return {string}\r\n     */\n\n  }, {\n    key: 'getEndpoint',\n    value: function getEndpoint(subscription) {\n      var endpoint = subscription.endpoint;\n      var subscriptionId = subscription.subscriptionId;\n\n      // fix for Chrome < 45\n      if (subscriptionId && endpoint.indexOf(subscriptionId) === -1) {\n        endpoint += '/' + subscriptionId;\n      }\n\n      return endpoint;\n    }\n\n    /**\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: 'isSWRegistered',\n    value: function isSWRegistered() {\n      try {\n        return navigator.serviceWorker.controller.state === 'activated';\n      } catch (e) {\n        return false;\n      }\n    }\n\n    /**\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'unregisterWorker',\n    value: function unregisterWorker() {\n      var self = this;\n      if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.getRegistrations().then(function (registrations) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = registrations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var registration = _step.value;\n\n              registration.unregister();\n              self.fire('onSubscriptionCancel');\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        });\n      }\n    }\n\n    /**\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'requestSubscription',\n    value: function requestSubscription() {\n      var _this2 = this;\n\n      var userVisibleOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      var self = this;\n      var current = this.getPermissionStatus();\n      var cb = function cb(result) {\n        if (result === 'granted') {\n          _this2.fire('onPermissionGranted');\n\n          if ('serviceWorker' in navigator) {\n            navigator.serviceWorker.register(_this2.workerPath).then(function () {\n              navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n                self.fire('onWorkerSuccess');\n                serviceWorkerRegistration.pushManager.subscribe({\n                  userVisibleOnly: userVisibleOnly\n                }).then(function (subscription) {\n                  var key = subscription.getKey('p256dh');\n                  var token = subscription.getKey('auth');\n\n                  self.subData = {\n                    endpoint: self.getEndpoint(subscription),\n                    p256dh: key ? window.btoa(String.fromCharCode.apply(null, new Uint8Array(key))) : null,\n                    auth: token ? window.btoa(String.fromCharCode.apply(null, new Uint8Array(token))) : null\n                  };\n\n                  self.fire('onSubscriptionSuccess', [self.subData]);\n                }).catch(function (err) {\n                  self.fire('onWorkerError', [err]);\n                });\n              });\n            });\n          } else {\n            self.fire('onWorkerNotSupported');\n          }\n        } else if (result === 'denied') {\n          _this2.fire('onPermissionDenied');\n          _this2.unregisterWorker();\n        }\n      };\n\n      if (current === 'default') {\n        if (window.Notification && window.Notification.requestPermission) {\n          window.Notification.requestPermission(cb);\n        } else if (window.webkitNotifications && window.webkitNotifications.checkPermission) {\n          window.webkitNotifications.requestPermission(cb);\n        }\n      } else {\n        cb(current);\n      }\n    }\n  }]);\n\n  return Push;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {var require;/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = __webpack_require__(9);\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7), __webpack_require__(8)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global VERSION */\n\n__webpack_require__(5);\n\nvar _es6Promise = __webpack_require__(4);\n\nvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _api = __webpack_require__(1);\n\nvar API = _interopRequireWildcard(_api);\n\nvar _button = __webpack_require__(2);\n\nvar _push = __webpack_require__(3);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Noty = function () {\n  /**\n   * @param {object} options\n   * @return {Noty}\n   */\n  function Noty() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Noty);\n\n    this.options = Utils.deepExtend({}, API.Defaults, options);\n\n    if (API.Store[this.options.id]) {\n      return API.Store[this.options.id];\n    }\n\n    this.id = this.options.id || Utils.generateID('bar');\n    this.closeTimer = -1;\n    this.barDom = null;\n    this.layoutDom = null;\n    this.progressDom = null;\n    this.showing = false;\n    this.shown = false;\n    this.closed = false;\n    this.closing = false;\n    this.killable = this.options.timeout || this.options.closeWith.length > 0;\n    this.hasSound = this.options.sounds.sources.length > 0;\n    this.soundPlayed = false;\n    this.listeners = {\n      beforeShow: [],\n      onShow: [],\n      afterShow: [],\n      onClose: [],\n      afterClose: [],\n      onClick: [],\n      onHover: [],\n      onTemplate: []\n    };\n    this.promises = {\n      show: null,\n      close: null\n    };\n    this.on('beforeShow', this.options.callbacks.beforeShow);\n    this.on('onShow', this.options.callbacks.onShow);\n    this.on('afterShow', this.options.callbacks.afterShow);\n    this.on('onClose', this.options.callbacks.onClose);\n    this.on('afterClose', this.options.callbacks.afterClose);\n    this.on('onClick', this.options.callbacks.onClick);\n    this.on('onHover', this.options.callbacks.onHover);\n    this.on('onTemplate', this.options.callbacks.onTemplate);\n\n    return this;\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {function} cb\n   * @return {Noty}\n   */\n\n\n  _createClass(Noty, [{\n    key: 'on',\n    value: function on(eventName) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      if (typeof cb === 'function' && this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].push(cb);\n      }\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'show',\n    value: function show() {\n      var _this = this;\n\n      if (this.showing || this.shown) {\n        return this; // preventing multiple show\n      }\n\n      if (this.options.killer === true) {\n        Noty.closeAll();\n      } else if (typeof this.options.killer === 'string') {\n        Noty.closeAll(this.options.killer);\n      }\n\n      var queueCounts = API.getQueueCounts(this.options.queue);\n\n      if (queueCounts.current >= queueCounts.maxVisible || API.PageHidden && this.options.visibilityControl) {\n        API.addToQueue(this);\n\n        if (API.PageHidden && this.hasSound && Utils.inArray('docHidden', this.options.sounds.conditions)) {\n          Utils.createAudioElements(this);\n        }\n\n        if (API.PageHidden && Utils.inArray('docHidden', this.options.titleCount.conditions)) {\n          API.docTitle.increment();\n        }\n\n        return this;\n      }\n\n      API.Store[this.id] = this;\n\n      API.fire(this, 'beforeShow');\n\n      this.showing = true;\n\n      if (this.closing) {\n        this.showing = false;\n        return this;\n      }\n\n      API.build(this);\n      API.handleModal(this);\n\n      if (this.options.force) {\n        this.layoutDom.insertBefore(this.barDom, this.layoutDom.firstChild);\n      } else {\n        this.layoutDom.appendChild(this.barDom);\n      }\n\n      if (this.hasSound && !this.soundPlayed && Utils.inArray('docVisible', this.options.sounds.conditions)) {\n        Utils.createAudioElements(this);\n      }\n\n      if (Utils.inArray('docVisible', this.options.titleCount.conditions)) {\n        API.docTitle.increment();\n      }\n\n      this.shown = true;\n      this.closed = false;\n\n      // bind button events if any\n      if (API.hasButtons(this)) {\n        Object.keys(this.options.buttons).forEach(function (key) {\n          var btn = _this.barDom.querySelector('#' + _this.options.buttons[key].id);\n          Utils.addListener(btn, 'click', function (e) {\n            Utils.stopPropagation(e);\n            _this.options.buttons[key].cb(_this);\n          });\n        });\n      }\n\n      this.progressDom = this.barDom.querySelector('.noty_progressbar');\n\n      if (Utils.inArray('click', this.options.closeWith)) {\n        Utils.addClass(this.barDom, 'noty_close_with_click');\n        Utils.addListener(this.barDom, 'click', function (e) {\n          Utils.stopPropagation(e);\n          API.fire(_this, 'onClick');\n          _this.close();\n        }, false);\n      }\n\n      Utils.addListener(this.barDom, 'mouseenter', function () {\n        API.fire(_this, 'onHover');\n      }, false);\n\n      if (this.options.timeout) Utils.addClass(this.barDom, 'noty_has_timeout');\n      if (this.options.progressBar) {\n        Utils.addClass(this.barDom, 'noty_has_progressbar');\n      }\n\n      if (Utils.inArray('button', this.options.closeWith)) {\n        Utils.addClass(this.barDom, 'noty_close_with_button');\n\n        var closeButton = document.createElement('div');\n        Utils.addClass(closeButton, 'noty_close_button');\n        closeButton.innerHTML = '';\n        this.barDom.appendChild(closeButton);\n\n        Utils.addListener(closeButton, 'click', function (e) {\n          Utils.stopPropagation(e);\n          _this.close();\n        }, false);\n      }\n\n      API.fire(this, 'onShow');\n\n      if (this.options.animation.open === null) {\n        this.promises.show = new _es6Promise2.default(function (resolve) {\n          resolve();\n        });\n      } else if (typeof this.options.animation.open === 'function') {\n        this.promises.show = new _es6Promise2.default(this.options.animation.open.bind(this));\n      } else {\n        Utils.addClass(this.barDom, this.options.animation.open);\n        this.promises.show = new _es6Promise2.default(function (resolve) {\n          Utils.addListener(_this.barDom, Utils.animationEndEvents, function () {\n            Utils.removeClass(_this.barDom, _this.options.animation.open);\n            resolve();\n          });\n        });\n      }\n\n      this.promises.show.then(function () {\n        var _t = _this;\n        setTimeout(function () {\n          API.openFlow(_t);\n        }, 100);\n      });\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      API.dequeueClose(this);\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      API.queueClose(this);\n      return this;\n    }\n\n    /**\n     * @param {int|boolean} ms\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setTimeout',\n    value: function (_setTimeout) {\n      function setTimeout(_x) {\n        return _setTimeout.apply(this, arguments);\n      }\n\n      setTimeout.toString = function () {\n        return _setTimeout.toString();\n      };\n\n      return setTimeout;\n    }(function (ms) {\n      this.stop();\n      this.options.timeout = ms;\n\n      if (this.barDom) {\n        if (this.options.timeout) {\n          Utils.addClass(this.barDom, 'noty_has_timeout');\n        } else {\n          Utils.removeClass(this.barDom, 'noty_has_timeout');\n        }\n\n        var _t = this;\n        setTimeout(function () {\n          // ugly fix for progressbar display bug\n          _t.resume();\n        }, 100);\n      }\n\n      return this;\n    })\n\n    /**\n     * @param {string} html\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setText',\n    value: function setText(html) {\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        this.barDom.querySelector('.noty_body').innerHTML = html;\n      }\n\n      if (optionsOverride) this.options.text = html;\n\n      return this;\n    }\n\n    /**\n     * @param {string} type\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setType',\n    value: function setType(type) {\n      var _this2 = this;\n\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        var classList = Utils.classList(this.barDom).split(' ');\n\n        classList.forEach(function (c) {\n          if (c.substring(0, 11) === 'noty_type__') {\n            Utils.removeClass(_this2.barDom, c);\n          }\n        });\n\n        Utils.addClass(this.barDom, 'noty_type__' + type);\n      }\n\n      if (optionsOverride) this.options.type = type;\n\n      return this;\n    }\n\n    /**\n     * @param {string} theme\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setTheme',\n    value: function setTheme(theme) {\n      var _this3 = this;\n\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        var classList = Utils.classList(this.barDom).split(' ');\n\n        classList.forEach(function (c) {\n          if (c.substring(0, 12) === 'noty_theme__') {\n            Utils.removeClass(_this3.barDom, c);\n          }\n        });\n\n        Utils.addClass(this.barDom, 'noty_theme__' + theme);\n      }\n\n      if (optionsOverride) this.options.theme = theme;\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this4 = this;\n\n      if (this.closed) return this;\n\n      if (!this.shown) {\n        // it's in the queue\n        API.removeFromQueue(this);\n        return this;\n      }\n\n      API.fire(this, 'onClose');\n\n      this.closing = true;\n\n      if (this.options.animation.close === null || this.options.animation.close === false) {\n        this.promises.close = new _es6Promise2.default(function (resolve) {\n          resolve();\n        });\n      } else if (typeof this.options.animation.close === 'function') {\n        this.promises.close = new _es6Promise2.default(this.options.animation.close.bind(this));\n      } else {\n        Utils.addClass(this.barDom, this.options.animation.close);\n        this.promises.close = new _es6Promise2.default(function (resolve) {\n          Utils.addListener(_this4.barDom, Utils.animationEndEvents, function () {\n            if (_this4.options.force) {\n              Utils.remove(_this4.barDom);\n            } else {\n              API.ghostFix(_this4);\n            }\n            resolve();\n          });\n        });\n      }\n\n      this.promises.close.then(function () {\n        API.closeFlow(_this4);\n        API.handleModalClose(_this4);\n      });\n\n      this.closed = true;\n\n      return this;\n    }\n\n    // API functions\n\n    /**\n     * @param {boolean|string} queueName\n     * @return {Noty}\n     */\n\n  }], [{\n    key: 'closeAll',\n    value: function closeAll() {\n      var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      Object.keys(API.Store).forEach(function (id) {\n        if (queueName) {\n          if (API.Store[id].options.queue === queueName && API.Store[id].killable) {\n            API.Store[id].close();\n          }\n        } else if (API.Store[id].killable) {\n          API.Store[id].close();\n        }\n      });\n      return this;\n    }\n\n    /**\n     * @param {string} queueName\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'clearQueue',\n    value: function clearQueue() {\n      var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n\n      if (API.Queues.hasOwnProperty(queueName)) {\n        API.Queues[queueName].queue = [];\n      }\n      return this;\n    }\n\n    /**\n     * @return {API.Queues}\n     */\n\n  }, {\n    key: 'overrideDefaults',\n\n\n    /**\n     * @param {Object} obj\n     * @return {Noty}\n     */\n    value: function overrideDefaults(obj) {\n      API.Defaults = Utils.deepExtend({}, API.Defaults, obj);\n      return this;\n    }\n\n    /**\n     * @param {int} amount\n     * @param {string} queueName\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setMaxVisible',\n    value: function setMaxVisible() {\n      var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : API.DefaultMaxVisible;\n      var queueName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'global';\n\n      if (!API.Queues.hasOwnProperty(queueName)) {\n        API.Queues[queueName] = { maxVisible: amount, queue: [] };\n      }\n\n      API.Queues[queueName].maxVisible = amount;\n      return this;\n    }\n\n    /**\n     * @param {string} innerHtml\n     * @param {String} classes\n     * @param {Function} cb\n     * @param {Object} attributes\n     * @return {NotyButton}\n     */\n\n  }, {\n    key: 'button',\n    value: function button(innerHtml) {\n      var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var cb = arguments[2];\n      var attributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n      return new _button.NotyButton(innerHtml, classes, cb, attributes);\n    }\n\n    /**\n     * @return {string}\n     */\n\n  }, {\n    key: 'version',\n    value: function version() {\n      return \"3.2.0-beta\";\n    }\n\n    /**\n     * @param {String} workerPath\n     * @return {Push}\n     */\n\n  }, {\n    key: 'Push',\n    value: function Push(workerPath) {\n      return new _push.Push(workerPath);\n    }\n  }, {\n    key: 'Queues',\n    get: function get() {\n      return API.Queues;\n    }\n\n    /**\n     * @return {API.PageHidden}\n     */\n\n  }, {\n    key: 'PageHidden',\n    get: function get() {\n      return API.PageHidden;\n    }\n  }]);\n\n  return Noty;\n}();\n\n// Document visibility change controller\n\n\nexports.default = Noty;\nif (typeof window !== 'undefined') {\n  Utils.visibilityChangeFlow();\n}\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=noty.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/noty/lib/noty.js","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/symbol-observable/es/ponyfill.js","import { Component, cloneElement, h } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t(a.rank > b.rank) ? -1 :\n\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.attributes;\n}\n\nfunction segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nfunction rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.attributes.default ? 0 : rank(vnode.attributes.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) { return; }\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) { return this.canRoute(url); }\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( function (vnode) {\n\t\t\t\tvar matches = exec(url, vnode.attributes.path, vnode.attributes);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\th('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return h(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-router/dist/preact-router.es.js","import { Component, h } from 'preact';\nimport { bindActionCreators } from 'redux';\n\nvar Children = {\n\tonly: function only(children) {\n\t\treturn children && children[0] || null;\n\t}\n};\n\nfunction proptype() {}\nproptype.isRequired = proptype;\n\nvar PropTypes = {\n\telement: proptype,\n\tfunc: proptype,\n\tshape: function shape() {\n\t\treturn proptype;\n\t},\n\tinstanceOf: function instanceOf() {\n\t\treturn proptype;\n\t}\n};\n\nvar subscriptionShape = PropTypes.shape({\n  trySubscribe: PropTypes.func.isRequired,\n  tryUnsubscribe: PropTypes.func.isRequired,\n  notifyNestedSubs: PropTypes.func.isRequired,\n  isSubscribed: PropTypes.func.isRequired\n});\n\nvar storeShape = PropTypes.shape({\n  subscribe: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n});\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar didWarnAboutReceivingStore = false;\nfunction warnAboutReceivingStore() {\n  if (didWarnAboutReceivingStore) {\n    return;\n  }\n  didWarnAboutReceivingStore = true;\n\n  warning('<Provider> does not support changing `store` on the fly. ' + 'It is most likely that you see this error because you updated to ' + 'Redux 2.x and React Redux 2.x which no longer hot reload reducers ' + 'automatically. See https://github.com/reactjs/react-redux/releases/' + 'tag/v2.0.0 for the migration instructions.');\n}\n\nfunction createProvider() {\n  var _Provider$childContex;\n\n  var storeKey = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'store';\n  var subKey = arguments[1];\n\n  var subscriptionKey = subKey || storeKey + 'Subscription';\n\n  var Provider = function (_Component) {\n    inherits(Provider, _Component);\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[storeKey] = this[storeKey], _ref[subscriptionKey] = null, _ref;\n    };\n\n    function Provider(props, context) {\n      classCallCheck(this, Provider);\n\n      var _this = possibleConstructorReturn(this, _Component.call(this, props, context));\n\n      _this[storeKey] = props.store;\n      return _this;\n    }\n\n    Provider.prototype.render = function render() {\n      return Children.only(this.props.children);\n    };\n\n    return Provider;\n  }(Component);\n\n  {\n    Provider.prototype.componentWillReceiveProps = function (nextProps) {\n      if (this[storeKey] !== nextProps.store) {\n        warnAboutReceivingStore();\n      }\n    };\n  }\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[storeKey] = storeShape.isRequired, _Provider$childContex[subscriptionKey] = subscriptionShape, _Provider$childContex);\n\n  return Provider;\n}\n\nvar Provider = createProvider();\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    callee: true,\n    arguments: true,\n    arity: true\n};\n\nvar defineProperty$1 = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nvar hoistNonReactStatics = function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') {\n        // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try {\n                    // Avoid failures from read-only properties\n                    defineProperty$1(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n};\n\nvar invariant = function () {};\n\n// encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nvar CLEARED = null;\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  // the current/next pattern is copied from redux's createStore code.\n  // TODO: refactor+expose that code to be reusable here?\n  var current = [];\n  var next = [];\n\n  return {\n    clear: function clear() {\n      next = CLEARED;\n      current = CLEARED;\n    },\n    notify: function notify() {\n      var listeners = current = next;\n      for (var i = 0; i < listeners.length; i++) {\n        listeners[i]();\n      }\n    },\n    get: function get$$1() {\n      return next;\n    },\n    subscribe: function subscribe(listener) {\n      var isSubscribed = true;\n      if (next === current) next = current.slice();\n      next.push(listener);\n\n      return function unsubscribe() {\n        if (!isSubscribed || current === CLEARED) return;\n        isSubscribed = false;\n\n        if (next === current) next = current.slice();\n        next.splice(next.indexOf(listener), 1);\n      };\n    }\n  };\n}\n\nvar Subscription = function () {\n  function Subscription(store, parentSub, onStateChange) {\n    classCallCheck(this, Subscription);\n\n    this.store = store;\n    this.parentSub = parentSub;\n    this.onStateChange = onStateChange;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n  }\n\n  Subscription.prototype.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  Subscription.prototype.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  Subscription.prototype.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  Subscription.prototype.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.onStateChange) : this.store.subscribe(this.onStateChange);\n\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  Subscription.prototype.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nvar hotReloadingVersion = 0;\nvar dummyState = {};\nfunction noop() {}\nfunction makeSelectorStateful(sourceSelector, store) {\n  // wrap the selector in an object that tracks its results between runs.\n  var selector = {\n    run: function runComponentSelector(props) {\n      try {\n        var nextProps = sourceSelector(store.getState(), props);\n        if (nextProps !== selector.props || selector.error) {\n          selector.shouldComponentUpdate = true;\n          selector.props = nextProps;\n          selector.error = null;\n        }\n      } catch (error) {\n        selector.shouldComponentUpdate = true;\n        selector.error = error;\n      }\n    }\n  };\n\n  return selector;\n}\n\nfunction connectAdvanced(\n/*\n  selectorFactory is a func that is responsible for returning the selector function used to\n  compute new props from state, props, and dispatch. For example:\n     export default connectAdvanced((dispatch, options) => (state, props) => ({\n      thing: state.things[props.thingId],\n      saveThing: fields => dispatch(actionCreators.saveThing(props.thingId, fields)),\n    }))(YourComponent)\n   Access to dispatch is provided to the factory so selectorFactories can bind actionCreators\n  outside of their selector as an optimization. Options passed to connectAdvanced are passed to\n  the selectorFactory, along with displayName and WrappedComponent, as the second argument.\n   Note that selectorFactory is responsible for all caching/memoization of inbound and outbound\n  props. Do not use connectAdvanced directly without memoizing results between calls to your\n  selector, otherwise the Connect component will re-render on every state or props change.\n*/\nselectorFactory) {\n  var _contextTypes, _childContextTypes;\n\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref$getDisplayName = _ref.getDisplayName,\n      getDisplayName = _ref$getDisplayName === undefined ? function (name) {\n    return 'ConnectAdvanced(' + name + ')';\n  } : _ref$getDisplayName,\n      _ref$methodName = _ref.methodName,\n      methodName = _ref$methodName === undefined ? 'connectAdvanced' : _ref$methodName,\n      _ref$renderCountProp = _ref.renderCountProp,\n      renderCountProp = _ref$renderCountProp === undefined ? undefined : _ref$renderCountProp,\n      _ref$shouldHandleStat = _ref.shouldHandleStateChanges,\n      shouldHandleStateChanges = _ref$shouldHandleStat === undefined ? true : _ref$shouldHandleStat,\n      _ref$storeKey = _ref.storeKey,\n      storeKey = _ref$storeKey === undefined ? 'store' : _ref$storeKey,\n      _ref$withRef = _ref.withRef,\n      withRef = _ref$withRef === undefined ? false : _ref$withRef,\n      connectOptions = objectWithoutProperties(_ref, ['getDisplayName', 'methodName', 'renderCountProp', 'shouldHandleStateChanges', 'storeKey', 'withRef']);\n\n  var subscriptionKey = storeKey + 'Subscription';\n  var version = hotReloadingVersion++;\n\n  var contextTypes = (_contextTypes = {}, _contextTypes[storeKey] = storeShape, _contextTypes[subscriptionKey] = subscriptionShape, _contextTypes);\n  var childContextTypes = (_childContextTypes = {}, _childContextTypes[subscriptionKey] = subscriptionShape, _childContextTypes);\n\n  return function wrapWithConnect(WrappedComponent) {\n    invariant(typeof WrappedComponent == 'function', 'You must pass a component to the function returned by ' + ('connect. Instead received ' + JSON.stringify(WrappedComponent)));\n\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n    var displayName = getDisplayName(wrappedComponentName);\n\n    var selectorFactoryOptions = _extends({}, connectOptions, {\n      getDisplayName: getDisplayName,\n      methodName: methodName,\n      renderCountProp: renderCountProp,\n      shouldHandleStateChanges: shouldHandleStateChanges,\n      storeKey: storeKey,\n      withRef: withRef,\n      displayName: displayName,\n      wrappedComponentName: wrappedComponentName,\n      WrappedComponent: WrappedComponent\n    });\n\n    var Connect = function (_Component) {\n      inherits(Connect, _Component);\n\n      function Connect(props, context) {\n        classCallCheck(this, Connect);\n\n        var _this = possibleConstructorReturn(this, _Component.call(this, props, context));\n\n        _this.version = version;\n        _this.state = {};\n        _this.renderCount = 0;\n        _this.store = props[storeKey] || context[storeKey];\n        _this.propsMode = Boolean(props[storeKey]);\n        _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n\n        invariant(_this.store, 'Could not find \"' + storeKey + '\" in either the context or props of ' + ('\"' + displayName + '\". Either wrap the root component in a <Provider>, ') + ('or explicitly pass \"' + storeKey + '\" as a prop to \"' + displayName + '\".'));\n\n        _this.initSelector();\n        _this.initSubscription();\n        return _this;\n      }\n\n      Connect.prototype.getChildContext = function getChildContext() {\n        var _ref2;\n\n        // If this component received store from props, its subscription should be transparent\n        // to any descendants receiving store+subscription from context; it passes along\n        // subscription passed to it. Otherwise, it shadows the parent subscription, which allows\n        // Connect to control ordering of notifications to flow top-down.\n        var subscription = this.propsMode ? null : this.subscription;\n        return _ref2 = {}, _ref2[subscriptionKey] = subscription || this.context[subscriptionKey], _ref2;\n      };\n\n      Connect.prototype.componentDidMount = function componentDidMount() {\n        if (!shouldHandleStateChanges) return;\n\n        // componentWillMount fires during server side rendering, but componentDidMount and\n        // componentWillUnmount do not. Because of this, trySubscribe happens during ...didMount.\n        // Otherwise, unsubscription would never take place during SSR, causing a memory leak.\n        // To handle the case where a child component may have triggered a state change by\n        // dispatching an action in its componentWillMount, we have to re-run the select and maybe\n        // re-render.\n        this.subscription.trySubscribe();\n        this.selector.run(this.props);\n        if (this.selector.shouldComponentUpdate) this.forceUpdate();\n      };\n\n      Connect.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        this.selector.run(nextProps);\n      };\n\n      Connect.prototype.shouldComponentUpdate = function shouldComponentUpdate() {\n        return this.selector.shouldComponentUpdate;\n      };\n\n      Connect.prototype.componentWillUnmount = function componentWillUnmount() {\n        if (this.subscription) this.subscription.tryUnsubscribe();\n        this.subscription = null;\n        this.notifyNestedSubs = noop;\n        this.store = null;\n        this.selector.run = noop;\n        this.selector.shouldComponentUpdate = false;\n      };\n\n      Connect.prototype.getWrappedInstance = function getWrappedInstance() {\n        invariant(withRef, 'To access the wrapped instance, you need to specify ' + ('{ withRef: true } in the options argument of the ' + methodName + '() call.'));\n        return this.wrappedInstance;\n      };\n\n      Connect.prototype.setWrappedInstance = function setWrappedInstance(ref) {\n        this.wrappedInstance = ref;\n      };\n\n      Connect.prototype.initSelector = function initSelector() {\n        var sourceSelector = selectorFactory(this.store.dispatch, selectorFactoryOptions);\n        this.selector = makeSelectorStateful(sourceSelector, this.store);\n        this.selector.run(this.props);\n      };\n\n      Connect.prototype.initSubscription = function initSubscription() {\n        if (!shouldHandleStateChanges) return;\n\n        // parentSub's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n        var parentSub = (this.propsMode ? this.props : this.context)[subscriptionKey];\n        this.subscription = new Subscription(this.store, parentSub, this.onStateChange.bind(this));\n\n        // `notifyNestedSubs` is duplicated to handle the case where the component is  unmounted in\n        // the middle of the notification loop, where `this.subscription` will then be null. An\n        // extra null check every change can be avoided by copying the method onto `this` and then\n        // replacing it with a no-op on unmount. This can probably be avoided if Subscription's\n        // listeners logic is changed to not call listeners that have been unsubscribed in the\n        // middle of the notification loop.\n        this.notifyNestedSubs = this.subscription.notifyNestedSubs.bind(this.subscription);\n      };\n\n      Connect.prototype.onStateChange = function onStateChange() {\n        this.selector.run(this.props);\n\n        if (!this.selector.shouldComponentUpdate) {\n          this.notifyNestedSubs();\n        } else {\n          this.componentDidUpdate = this.notifyNestedSubsOnComponentDidUpdate;\n          this.setState(dummyState);\n        }\n      };\n\n      Connect.prototype.notifyNestedSubsOnComponentDidUpdate = function notifyNestedSubsOnComponentDidUpdate() {\n        // `componentDidUpdate` is conditionally implemented when `onStateChange` determines it\n        // needs to notify nested subs. Once called, it unimplements itself until further state\n        // changes occur. Doing it this way vs having a permanent `componentDidUpdate` that does\n        // a boolean check every time avoids an extra method call most of the time, resulting\n        // in some perf boost.\n        this.componentDidUpdate = undefined;\n        this.notifyNestedSubs();\n      };\n\n      Connect.prototype.isSubscribed = function isSubscribed() {\n        return Boolean(this.subscription) && this.subscription.isSubscribed();\n      };\n\n      Connect.prototype.addExtraProps = function addExtraProps(props) {\n        if (!withRef && !renderCountProp && !(this.propsMode && this.subscription)) return props;\n        // make a shallow copy so that fields added don't leak to the original selector.\n        // this is especially important for 'ref' since that's a reference back to the component\n        // instance. a singleton memoized selector would then be holding a reference to the\n        // instance, preventing the instance from being garbage collected, and that would be bad\n        var withExtras = _extends({}, props);\n        if (withRef) withExtras.ref = this.setWrappedInstance;\n        if (renderCountProp) withExtras[renderCountProp] = this.renderCount++;\n        if (this.propsMode && this.subscription) withExtras[subscriptionKey] = this.subscription;\n        return withExtras;\n      };\n\n      Connect.prototype.render = function render() {\n        var selector = this.selector;\n        selector.shouldComponentUpdate = false;\n\n        if (selector.error) {\n          throw selector.error;\n        } else {\n          return h(WrappedComponent, this.addExtraProps(selector.props));\n        }\n      };\n\n      return Connect;\n    }(Component);\n\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = displayName;\n    Connect.childContextTypes = childContextTypes;\n    Connect.contextTypes = contextTypes;\n\n\n    {\n      Connect.prototype.componentWillUpdate = function componentWillUpdate() {\n        var _this2 = this;\n\n        // We are hot reloading!\n        if (this.version !== version) {\n          this.version = version;\n          this.initSelector();\n\n          // If any connected descendants don't hot reload (and resubscribe in the process), their\n          // listeners will be lost when we unsubscribe. Unfortunately, by copying over all\n          // listeners, this does mean that the old versions of connected descendants will still be\n          // notified of state changes; however, their onStateChange function is a no-op so this\n          // isn't a huge deal.\n          var oldListeners = [];\n\n          if (this.subscription) {\n            oldListeners = this.subscription.listeners.get();\n            this.subscription.tryUnsubscribe();\n          }\n          this.initSubscription();\n          if (shouldHandleStateChanges) {\n            this.subscription.trySubscribe();\n            oldListeners.forEach(function (listener) {\n              return _this2.subscription.listeners.subscribe(listener);\n            });\n          }\n        }\n      };\n    }\n\n    return hoistNonReactStatics(Connect, WrappedComponent);\n  };\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar _Symbol = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto$1.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$1.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$2.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object';\n}\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n}\n\nfunction verifyPlainObject(value, displayName, methodName) {\n  if (!isPlainObject(value)) {\n    warning(methodName + '() in ' + displayName + ' must return a plain object. Instead received ' + value + '.');\n  }\n}\n\nfunction wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch, options) {\n    var constant = getConstant(dispatch, options);\n\n    function constantSelector() {\n      return constant;\n    }\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n}\n\n// dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n// \n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\nfunction getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== undefined ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n}\n\n// Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n// \n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//    \n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//    \n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//    \nfunction wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    var displayName = _ref.displayName;\n\n    var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);\n    };\n\n    // allow detectFactoryAndVerify to get ownProps\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      var props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      verifyPlainObject(props, displayName, methodName);\n\n      return props;\n    };\n\n    return proxy;\n  };\n}\n\nfunction whenMapDispatchToPropsIsFunction(mapDispatchToProps) {\n  return typeof mapDispatchToProps === 'function' ? wrapMapToPropsFunc(mapDispatchToProps, 'mapDispatchToProps') : undefined;\n}\n\nfunction whenMapDispatchToPropsIsMissing(mapDispatchToProps) {\n  return !mapDispatchToProps ? wrapMapToPropsConstant(function (dispatch) {\n    return { dispatch: dispatch };\n  }) : undefined;\n}\n\nfunction whenMapDispatchToPropsIsObject(mapDispatchToProps) {\n  return mapDispatchToProps && (typeof mapDispatchToProps === 'undefined' ? 'undefined' : _typeof(mapDispatchToProps)) === 'object' ? wrapMapToPropsConstant(function (dispatch) {\n    return bindActionCreators(mapDispatchToProps, dispatch);\n  }) : undefined;\n}\n\nvar defaultMapDispatchToPropsFactories = [whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject];\n\nfunction whenMapStateToPropsIsFunction(mapStateToProps) {\n  return typeof mapStateToProps === 'function' ? wrapMapToPropsFunc(mapStateToProps, 'mapStateToProps') : undefined;\n}\n\nfunction whenMapStateToPropsIsMissing(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(function () {\n    return {};\n  }) : undefined;\n}\n\nvar defaultMapStateToPropsFactories = [whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing];\n\nfunction defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return _extends({}, ownProps, stateProps, dispatchProps);\n}\n\nfunction wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, _ref) {\n    var displayName = _ref.displayName,\n        pure = _ref.pure,\n        areMergedPropsEqual = _ref.areMergedPropsEqual;\n\n    var hasRunOnce = false;\n    var mergedProps = void 0;\n\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n      if (hasRunOnce) {\n        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n\n        verifyPlainObject(mergedProps, displayName, 'mergeProps');\n      }\n\n      return mergedProps;\n    };\n  };\n}\n\nfunction whenMergePropsIsFunction(mergeProps) {\n  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;\n}\n\nfunction whenMergePropsIsOmitted(mergeProps) {\n  return !mergeProps ? function () {\n    return defaultMergeProps;\n  } : undefined;\n}\n\nvar defaultMergePropsFactories = [whenMergePropsIsFunction, whenMergePropsIsOmitted];\n\nfunction verify(selector, methodName, displayName) {\n  if (!selector) {\n    throw new Error('Unexpected value for ' + methodName + ' in ' + displayName + '.');\n  } else if (methodName === 'mapStateToProps' || methodName === 'mapDispatchToProps') {\n    if (!selector.hasOwnProperty('dependsOnOwnProps')) {\n      warning('The selector for ' + methodName + ' of ' + displayName + ' did not specify a value for dependsOnOwnProps.');\n    }\n  }\n}\n\nfunction verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps, displayName) {\n  verify(mapStateToProps, 'mapStateToProps', displayName);\n  verify(mapDispatchToProps, 'mapDispatchToProps', displayName);\n  verify(mergeProps, 'mergeProps', displayName);\n}\n\nfunction impureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch) {\n  return function impureFinalPropsSelector(state, ownProps) {\n    return mergeProps(mapStateToProps(state, ownProps), mapDispatchToProps(dispatch, ownProps), ownProps);\n  };\n}\n\nfunction pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, _ref) {\n  var areStatesEqual = _ref.areStatesEqual,\n      areOwnPropsEqual = _ref.areOwnPropsEqual,\n      areStatePropsEqual = _ref.areStatePropsEqual;\n\n  var hasRunAtLeastOnce = false;\n  var state = void 0;\n  var ownProps = void 0;\n  var stateProps = void 0;\n  var dispatchProps = void 0;\n  var mergedProps = void 0;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    var nextStateProps = mapStateToProps(state, ownProps);\n    var statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    var propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    var stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\n\n// TODO: Add more comments\n\n// If pure is true, the selector returned by selectorFactory will memoize its results,\n// allowing connectAdvanced's shouldComponentUpdate to return false if final\n// props have not changed. If false, the selector will always return a new\n// object and shouldComponentUpdate will always return true.\n\nfunction finalPropsSelectorFactory(dispatch, _ref2) {\n  var initMapStateToProps = _ref2.initMapStateToProps,\n      initMapDispatchToProps = _ref2.initMapDispatchToProps,\n      initMergeProps = _ref2.initMergeProps,\n      options = objectWithoutProperties(_ref2, ['initMapStateToProps', 'initMapDispatchToProps', 'initMergeProps']);\n\n  var mapStateToProps = initMapStateToProps(dispatch, options);\n  var mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  var mergeProps = initMergeProps(dispatch, options);\n\n  {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps, options.displayName);\n  }\n\n  var selectorFactory = options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory;\n\n  return selectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}\n\n/*\n  connect is a facade over connectAdvanced. It turns its args into a compatible\n  selectorFactory, which has the signature:\n\n    (dispatch, options) => (nextState, nextOwnProps) => nextFinalProps\n  \n  connect passes its args to connectAdvanced as options, which will in turn pass them to\n  selectorFactory each time a Connect component instance is instantiated or hot reloaded.\n\n  selectorFactory returns a final props selector from its mapStateToProps,\n  mapStateToPropsFactories, mapDispatchToProps, mapDispatchToPropsFactories, mergeProps,\n  mergePropsFactories, and pure args.\n\n  The resulting final props selector is called by the Connect component instance whenever\n  it receives new props or store state.\n */\n\nfunction match(arg, factories, name) {\n  for (var i = factories.length - 1; i >= 0; i--) {\n    var result = factories[i](arg);\n    if (result) return result;\n  }\n\n  return function (dispatch, options) {\n    throw new Error('Invalid value of type ' + (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) + ' for ' + name + ' argument when connecting component ' + options.wrappedComponentName + '.');\n  };\n}\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\n// createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\nfunction createConnect() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$connectHOC = _ref.connectHOC,\n      connectHOC = _ref$connectHOC === undefined ? connectAdvanced : _ref$connectHOC,\n      _ref$mapStateToPropsF = _ref.mapStateToPropsFactories,\n      mapStateToPropsFactories = _ref$mapStateToPropsF === undefined ? defaultMapStateToPropsFactories : _ref$mapStateToPropsF,\n      _ref$mapDispatchToPro = _ref.mapDispatchToPropsFactories,\n      mapDispatchToPropsFactories = _ref$mapDispatchToPro === undefined ? defaultMapDispatchToPropsFactories : _ref$mapDispatchToPro,\n      _ref$mergePropsFactor = _ref.mergePropsFactories,\n      mergePropsFactories = _ref$mergePropsFactor === undefined ? defaultMergePropsFactories : _ref$mergePropsFactor,\n      _ref$selectorFactory = _ref.selectorFactory,\n      selectorFactory = _ref$selectorFactory === undefined ? finalPropsSelectorFactory : _ref$selectorFactory;\n\n  return function connect(mapStateToProps, mapDispatchToProps, mergeProps) {\n    var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var _ref2$pure = _ref2.pure,\n        pure = _ref2$pure === undefined ? true : _ref2$pure,\n        _ref2$areStatesEqual = _ref2.areStatesEqual,\n        areStatesEqual = _ref2$areStatesEqual === undefined ? strictEqual : _ref2$areStatesEqual,\n        _ref2$areOwnPropsEqua = _ref2.areOwnPropsEqual,\n        areOwnPropsEqual = _ref2$areOwnPropsEqua === undefined ? shallowEqual : _ref2$areOwnPropsEqua,\n        _ref2$areStatePropsEq = _ref2.areStatePropsEqual,\n        areStatePropsEqual = _ref2$areStatePropsEq === undefined ? shallowEqual : _ref2$areStatePropsEq,\n        _ref2$areMergedPropsE = _ref2.areMergedPropsEqual,\n        areMergedPropsEqual = _ref2$areMergedPropsE === undefined ? shallowEqual : _ref2$areMergedPropsE,\n        extraOptions = objectWithoutProperties(_ref2, ['pure', 'areStatesEqual', 'areOwnPropsEqual', 'areStatePropsEqual', 'areMergedPropsEqual']);\n\n    var initMapStateToProps = match(mapStateToProps, mapStateToPropsFactories, 'mapStateToProps');\n    var initMapDispatchToProps = match(mapDispatchToProps, mapDispatchToPropsFactories, 'mapDispatchToProps');\n    var initMergeProps = match(mergeProps, mergePropsFactories, 'mergeProps');\n\n    return connectHOC(selectorFactory, _extends({\n      // used in error messages\n      methodName: 'connect',\n\n      // used to compute Connect's displayName from the wrapped component's displayName.\n      getDisplayName: function getDisplayName(name) {\n        return 'Connect(' + name + ')';\n      },\n\n      // if mapStateToProps is falsy, the Connect component doesn't subscribe to store state changes\n      shouldHandleStateChanges: Boolean(mapStateToProps),\n\n      // passed through to selectorFactory\n      initMapStateToProps: initMapStateToProps,\n      initMapDispatchToProps: initMapDispatchToProps,\n      initMergeProps: initMergeProps,\n      pure: pure,\n      areStatesEqual: areStatesEqual,\n      areOwnPropsEqual: areOwnPropsEqual,\n      areStatePropsEqual: areStatePropsEqual,\n      areMergedPropsEqual: areMergedPropsEqual\n\n    }, extraOptions));\n  };\n}\n\nvar connect = createConnect();\n\nvar index = { Provider: Provider, connect: connect, connectAdvanced: connectAdvanced };\n\nexport { Provider, connect, connectAdvanced };export default index;\n//# sourceMappingURL=preact-redux.esm.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-redux/dist/preact-redux.esm.js","export default (function (value) {\n  return typeof value === 'function';\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isFunction.js","export default (function (value) {\n  return typeof value === 'symbol' || typeof value === 'object' && Object.prototype.toString.call(value) === '[object Symbol]';\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isSymbol.js","export default (function (value) {\n  return value.length === 0;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isEmpty.js","export default (function (value) {\n  return value.toString();\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/toString.js","export default (function (value) {\n  return typeof value === 'string';\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isString.js","export var DEFAULT_NAMESPACE = '/';\nexport var ACTION_TYPE_DELIMITER = '||';\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/constants.js","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport isSymbol from './utils/isSymbol';\nimport isEmpty from './utils/isEmpty';\nimport toString from './utils/toString';\nimport isString from './utils/isString';\nimport { ACTION_TYPE_DELIMITER } from './constants';\n\nfunction isValidActionType(type) {\n  return isString(type) || isFunction(type) || isSymbol(type);\n}\n\nfunction isValidActionTypes(types) {\n  if (isEmpty(types)) {\n    return false;\n  }\n\n  return types.every(isValidActionType);\n}\n\nexport default function combineActions() {\n  for (var _len = arguments.length, actionsTypes = new Array(_len), _key = 0; _key < _len; _key++) {\n    actionsTypes[_key] = arguments[_key];\n  }\n\n  invariant(isValidActionTypes(actionsTypes), 'Expected action types to be strings, symbols, or action creators');\n  var combinedActionType = actionsTypes.map(toString).join(ACTION_TYPE_DELIMITER);\n  return {\n    toString: function toString() {\n      return combinedActionType;\n    }\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/combineActions.js","export default (function (value) {\n  return value;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/identity.js","export default (function (value) {\n  return value === null;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isNull.js","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport identity from './utils/identity';\nimport isNull from './utils/isNull';\nexport default function createAction(type, payloadCreator, metaCreator) {\n  if (payloadCreator === void 0) {\n    payloadCreator = identity;\n  }\n\n  invariant(isFunction(payloadCreator) || isNull(payloadCreator), 'Expected payloadCreator to be a function, undefined or null');\n  var finalPayloadCreator = isNull(payloadCreator) || payloadCreator === identity ? identity : function (head) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return head instanceof Error ? head : payloadCreator.apply(void 0, [head].concat(args));\n  };\n  var hasMeta = isFunction(metaCreator);\n  var typeString = type.toString();\n\n  var actionCreator = function actionCreator() {\n    var payload = finalPayloadCreator.apply(void 0, arguments);\n    var action = {\n      type: type\n    };\n\n    if (payload instanceof Error) {\n      action.error = true;\n    }\n\n    if (payload !== undefined) {\n      action.payload = payload;\n    }\n\n    if (hasMeta) {\n      action.meta = metaCreator.apply(void 0, arguments);\n    }\n\n    return action;\n  };\n\n  actionCreator.toString = function () {\n    return typeString;\n  };\n\n  return actionCreator;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/createAction.js","export default (function (value) {\n  if (typeof value !== 'object' || value === null) return false;\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isPlainObject.js","export default (function (value) {\n  return Array.isArray(value);\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isArray.js","export default (function (value) {\n  return value === null || value === undefined;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isNil.js","export default (function (array) {\n  return array[array.length - 1];\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/getLastElement.js","import camelCase from 'to-camel-case';\nvar namespacer = '/';\nexport default (function (type) {\n  return type.includes(namespacer) ? type.split(namespacer).map(camelCase).join(namespacer) : camelCase(type);\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/camelCase.js","export default (function (array, callback) {\n  return array.reduce(function (partialObject, element) {\n    return callback(partialObject, element);\n  }, {});\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/arrayToObject.js","export default (function (value) {\n  return typeof Map !== 'undefined' && value instanceof Map;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isMap.js","import isMap from './isMap';\nexport default function ownKeys(object) {\n  if (isMap(object)) {\n    // We are using loose transforms in babel. Here we are trying to convert an\n    // interable to an array. Loose mode expects everything to already be an\n    // array. The problem is that our eslint rules encourage us to prefer\n    // spread over Array.from.\n    //\n    // Instead of disabling loose mode we simply disable the warning.\n    // eslint-disable-next-line unicorn/prefer-spread\n    return Array.from(object.keys());\n  }\n\n  if (typeof Reflect !== 'undefined' && typeof Reflect.ownKeys === 'function') {\n    return Reflect.ownKeys(object);\n  }\n\n  var keys = Object.getOwnPropertyNames(object);\n\n  if (typeof Object.getOwnPropertySymbols === 'function') {\n    keys = keys.concat(Object.getOwnPropertySymbols(object));\n  }\n\n  return keys;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/ownKeys.js","import isMap from './isMap';\nexport default function get(key, x) {\n  return isMap(x) ? x.get(key) : x[key];\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/get.js","import { DEFAULT_NAMESPACE, ACTION_TYPE_DELIMITER } from '../constants';\nimport ownKeys from './ownKeys';\nimport get from './get';\nexport default (function (predicate) {\n  return function flatten(map, _temp, partialFlatMap, partialFlatActionType) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$namespace = _ref.namespace,\n        namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n        prefix = _ref.prefix;\n\n    if (partialFlatMap === void 0) {\n      partialFlatMap = {};\n    }\n\n    if (partialFlatActionType === void 0) {\n      partialFlatActionType = '';\n    }\n\n    function connectNamespace(type) {\n      var _ref2;\n\n      if (!partialFlatActionType) return type;\n      var types = type.toString().split(ACTION_TYPE_DELIMITER);\n      var partials = partialFlatActionType.split(ACTION_TYPE_DELIMITER);\n      return (_ref2 = []).concat.apply(_ref2, partials.map(function (p) {\n        return types.map(function (t) {\n          return \"\" + p + namespace + t;\n        });\n      })).join(ACTION_TYPE_DELIMITER);\n    }\n\n    function connectPrefix(type) {\n      if (partialFlatActionType || !prefix) {\n        return type;\n      }\n\n      return \"\" + prefix + namespace + type;\n    }\n\n    ownKeys(map).forEach(function (type) {\n      var nextNamespace = connectPrefix(connectNamespace(type));\n      var mapValue = get(type, map);\n\n      if (predicate(mapValue)) {\n        flatten(mapValue, {\n          namespace: namespace,\n          prefix: prefix\n        }, partialFlatMap, nextNamespace);\n      } else {\n        partialFlatMap[nextNamespace] = mapValue;\n      }\n    });\n    return partialFlatMap;\n  };\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/flattenWhenNode.js","import isPlainObject from './isPlainObject';\nimport flattenWhenNode from './flattenWhenNode';\nexport default flattenWhenNode(isPlainObject);\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/flattenActionMap.js","import { DEFAULT_NAMESPACE } from '../constants';\nimport isEmpty from './isEmpty';\nimport camelCase from './camelCase';\nexport default function unflattenActionCreators(flatActionCreators, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n      prefix = _ref.prefix;\n\n  function unflatten(flatActionType, partialNestedActionCreators, partialFlatActionTypePath) {\n    var nextNamespace = camelCase(partialFlatActionTypePath.shift());\n\n    if (isEmpty(partialFlatActionTypePath)) {\n      partialNestedActionCreators[nextNamespace] = flatActionCreators[flatActionType];\n    } else {\n      if (!partialNestedActionCreators[nextNamespace]) {\n        partialNestedActionCreators[nextNamespace] = {};\n      }\n\n      unflatten(flatActionType, partialNestedActionCreators[nextNamespace], partialFlatActionTypePath);\n    }\n  }\n\n  var nestedActionCreators = {};\n  Object.getOwnPropertyNames(flatActionCreators).forEach(function (type) {\n    var unprefixedType = prefix ? type.replace(\"\" + prefix + namespace, '') : type;\n    return unflatten(type, nestedActionCreators, unprefixedType.split(namespace));\n  });\n  return nestedActionCreators;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/unflattenActionCreators.js","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport invariant from 'invariant';\nimport isPlainObject from './utils/isPlainObject';\nimport isFunction from './utils/isFunction';\nimport identity from './utils/identity';\nimport isArray from './utils/isArray';\nimport isString from './utils/isString';\nimport isNil from './utils/isNil';\nimport getLastElement from './utils/getLastElement';\nimport camelCase from './utils/camelCase';\nimport arrayToObject from './utils/arrayToObject';\nimport flattenActionMap from './utils/flattenActionMap';\nimport unflattenActionCreators from './utils/unflattenActionCreators';\nimport createAction from './createAction';\nimport { DEFAULT_NAMESPACE } from './constants';\nexport default function createActions(actionMap) {\n  for (var _len = arguments.length, identityActions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    identityActions[_key - 1] = arguments[_key];\n  }\n\n  var options = isPlainObject(getLastElement(identityActions)) ? identityActions.pop() : {};\n  invariant(identityActions.every(isString) && (isString(actionMap) || isPlainObject(actionMap)), 'Expected optional object followed by string action types');\n\n  if (isString(actionMap)) {\n    return actionCreatorsFromIdentityActions([actionMap].concat(identityActions), options);\n  }\n\n  return _objectSpread({}, actionCreatorsFromActionMap(actionMap, options), actionCreatorsFromIdentityActions(identityActions, options));\n}\n\nfunction actionCreatorsFromActionMap(actionMap, options) {\n  var flatActionMap = flattenActionMap(actionMap, options);\n  var flatActionCreators = actionMapToActionCreators(flatActionMap);\n  return unflattenActionCreators(flatActionCreators, options);\n}\n\nfunction actionMapToActionCreators(actionMap, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      prefix = _ref.prefix,\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace;\n\n  function isValidActionMapValue(actionMapValue) {\n    if (isFunction(actionMapValue) || isNil(actionMapValue)) {\n      return true;\n    }\n\n    if (isArray(actionMapValue)) {\n      var _actionMapValue$ = actionMapValue[0],\n          payload = _actionMapValue$ === void 0 ? identity : _actionMapValue$,\n          meta = actionMapValue[1];\n      return isFunction(payload) && isFunction(meta);\n    }\n\n    return false;\n  }\n\n  return arrayToObject(Object.keys(actionMap), function (partialActionCreators, type) {\n    var _objectSpread2;\n\n    var actionMapValue = actionMap[type];\n    invariant(isValidActionMapValue(actionMapValue), 'Expected function, undefined, null, or array with payload and meta ' + (\"functions for \" + type));\n    var prefixedType = prefix ? \"\" + prefix + namespace + type : type;\n    var actionCreator = isArray(actionMapValue) ? createAction.apply(void 0, [prefixedType].concat(actionMapValue)) : createAction(prefixedType, actionMapValue);\n    return _objectSpread({}, partialActionCreators, (_objectSpread2 = {}, _objectSpread2[type] = actionCreator, _objectSpread2));\n  });\n}\n\nfunction actionCreatorsFromIdentityActions(identityActions, options) {\n  var actionMap = arrayToObject(identityActions, function (partialActionMap, type) {\n    var _objectSpread3;\n\n    return _objectSpread({}, partialActionMap, (_objectSpread3 = {}, _objectSpread3[type] = identity, _objectSpread3));\n  });\n  var actionCreators = actionMapToActionCreators(actionMap, options);\n  return arrayToObject(Object.keys(actionCreators), function (partialActionCreators, type) {\n    var _objectSpread4;\n\n    return _objectSpread({}, partialActionCreators, (_objectSpread4 = {}, _objectSpread4[camelCase(type)] = actionCreators[type], _objectSpread4));\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/createActions.js","import curry from 'just-curry-it';\nimport createAction from './createAction';\nexport default (function (type, payloadCreator) {\n  return curry(createAction(type, payloadCreator), payloadCreator.length);\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/createCurriedAction.js","export default (function (value) {\n  return value === undefined;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/isUndefined.js","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport isPlainObject from './utils/isPlainObject';\nimport identity from './utils/identity';\nimport isNil from './utils/isNil';\nimport isUndefined from './utils/isUndefined';\nimport toString from './utils/toString';\nimport { ACTION_TYPE_DELIMITER } from './constants';\nexport default function handleAction(type, reducer, defaultState) {\n  if (reducer === void 0) {\n    reducer = identity;\n  }\n\n  var types = toString(type).split(ACTION_TYPE_DELIMITER);\n  invariant(!isUndefined(defaultState), \"defaultState for reducer handling \" + types.join(', ') + \" should be defined\");\n  invariant(isFunction(reducer) || isPlainObject(reducer), 'Expected reducer to be a function or object with next and throw reducers');\n\n  var _ref = isFunction(reducer) ? [reducer, reducer] : [reducer.next, reducer.throw].map(function (aReducer) {\n    return isNil(aReducer) ? identity : aReducer;\n  }),\n      nextReducer = _ref[0],\n      throwReducer = _ref[1];\n\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    var actionType = action.type;\n\n    if (!actionType || types.indexOf(toString(actionType)) === -1) {\n      return state;\n    }\n\n    return (action.error === true ? throwReducer : nextReducer)(state, action);\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/handleAction.js","export default (function () {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var initialState = typeof args[args.length - 1] !== 'function' && args.pop();\n  var reducers = args;\n\n  if (typeof initialState === 'undefined') {\n    throw new TypeError('The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.');\n  }\n\n  return function (prevState, value) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    var prevStateIsUndefined = typeof prevState === 'undefined';\n    var valueIsUndefined = typeof value === 'undefined';\n\n    if (prevStateIsUndefined && valueIsUndefined && initialState) {\n      return initialState;\n    }\n\n    return reducers.reduce(function (newState, reducer) {\n      return reducer.apply(undefined, [newState, value].concat(args));\n    }, prevStateIsUndefined && !valueIsUndefined && initialState ? initialState : prevState);\n  };\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/reduce-reducers/es/index.js","import ownKeys from './ownKeys';\nexport default function hasGeneratorInterface(handler) {\n  var keys = ownKeys(handler);\n  var hasOnlyInterfaceNames = keys.every(function (ownKey) {\n    return ownKey === 'next' || ownKey === 'throw';\n  });\n  return keys.length && keys.length <= 2 && hasOnlyInterfaceNames;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/hasGeneratorInterface.js","import isPlainObject from './isPlainObject';\nimport isMap from './isMap';\nimport hasGeneratorInterface from './hasGeneratorInterface';\nimport flattenWhenNode from './flattenWhenNode';\nexport default flattenWhenNode(function (node) {\n  return (isPlainObject(node) || isMap(node)) && !hasGeneratorInterface(node);\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/utils/flattenReducerMap.js","import reduceReducers from 'reduce-reducers';\nimport invariant from 'invariant';\nimport isPlainObject from './utils/isPlainObject';\nimport isMap from './utils/isMap';\nimport ownKeys from './utils/ownKeys';\nimport flattenReducerMap from './utils/flattenReducerMap';\nimport handleAction from './handleAction';\nimport get from './utils/get';\nexport default function handleActions(handlers, defaultState, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  invariant(isPlainObject(handlers) || isMap(handlers), 'Expected handlers to be a plain object.');\n  var flattenedReducerMap = flattenReducerMap(handlers, options);\n  var reducers = ownKeys(flattenedReducerMap).map(function (type) {\n    return handleAction(type, get(type, flattenedReducerMap), defaultState);\n  });\n  var reducer = reduceReducers.apply(void 0, reducers.concat([defaultState]));\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    return reducer(state, action);\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/handleActions.js","import combineActions from './combineActions';\nimport createAction from './createAction';\nimport createActions from './createActions';\nimport createCurriedAction from './createCurriedAction';\nimport handleAction from './handleAction';\nimport handleActions from './handleActions';\nexport { combineActions, createAction, createActions, createCurriedAction, handleAction, handleActions };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-actions/es/index.js","export default {\r\n\tname: 'firstLocation',\r\n\tcharacters: [\r\n\t\t{\r\n\t\t\tname: 'Vasia',\r\n\t\t\tavailable: true\r\n\t\t}\r\n\t],\r\n\tnextLocations: [\r\n\t\t{\r\n\t\t\tname: 'secondLocation',\r\n\t\t\tavailable: true,\r\n\t\t\ttype: 'top'\r\n\t\t}\r\n\t]\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/locations/firstLocation.js","export default {\r\n\tname: 'secondLocation',\r\n\tcharacters: [\r\n\t\t{\r\n\t\t\tname: 'Sokol',\r\n\t\t\tavailable: true\r\n\t\t}\r\n\t],\r\n\tnextLocations: [\r\n\t\t{\r\n\t\t\tname: 'firstLocation',\r\n\t\t\tavailable: true,\r\n\t\t\ttype: 'bottom'\r\n\t\t}\r\n\t]\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/locations/secondLocation.js","import firstLocation from './firstLocation';\r\nimport secondLocation from './secondLocation';\r\n\r\nexport default {\r\n\tfirstLocation,\r\n\tsecondLocation\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/locations/index.js","export const CHANGE_LOCATION = 'CHANGE_LOCATION';\r\nexport const START_DIALOG = 'START_DIALOG';\r\nexport const NEXT_DIALOG = 'NEXT_DIALOG';\r\nexport const CLOSE_DIALOG = 'CLOSE_DIALOG';\r\nexport const ADD_TASK = 'ADD_TASK';\r\nexport const CHANGE_STATUS_TASK = 'CHANGE_STATUS_TASK';\r\nexport const ADD_TIP_TO_TASK = 'ADD_TIP_TO_TASK';\r\nexport const SAVE_CHARACTER_TO_HISTORY = 'SAVE_CHARACTER_TO_HISTORY';\r\nexport const ADD_OBJECT_TO_INVENTORY = 'ADD_OBJECT_TO_INVENTORY';\r\nexport const REMOVE_OBJECT_TO_INVENTORY = 'REMOVE_OBJECT_TO_INVENTORY';\r\nexport const OPEN_CHEST = 'OPEN_CHEST';\r\nexport const CLOSE_CHEST = 'CLOSE_CHEST';\r\nexport const DISPLAY_TASK = 'DISPLAY_TASK';\r\nexport const SET_MESSAGE = 'SET_MESSAGE';\r\n\n\n\n// WEBPACK FOOTER //\n// ./constants/actions.js","import { fromJS, List } from 'immutable';\r\nimport { handleActions } from 'redux-actions';\r\nimport location from '../data/locations';\r\nimport { ADD_OBJECT_TO_INVENTORY, REMOVE_OBJECT_TO_INVENTORY, CHANGE_LOCATION, OPEN_CHEST, CLOSE_CHEST, SET_MESSAGE } from '../constants/actions';\r\n\r\nconst initialState = fromJS({\r\n\tlocations: location,\r\n\tlocationActive: location.firstLocation,\r\n\tinventory: List(),\r\n\tactions: List(),\r\n\tisOpenChest: false,\r\n\tdisplayTask: null,\r\n\tmessage: ''\r\n});\r\n\r\nconst general = handleActions({\r\n\t[CHANGE_LOCATION]: (state, { payload: locationName }) => {\r\n\t\tlet locations = state.get('locations');\r\n\t\tif (!locations.has(locationName)) throw new Error('Location not found!');\r\n\t\treturn state.merge({\r\n\t\t\tlocationActive: locations.get(locationName)\r\n\t\t});\r\n\t},\r\n\t[ADD_OBJECT_TO_INVENTORY]: (state, { payload: object }) => state.merge({\r\n\t\tinventory: state.get('inventory').push(object)\r\n\t}),\r\n  [REMOVE_OBJECT_TO_INVENTORY]: (state, { payload: object }) => state.merge({\r\n    inventory: state.get('inventory').filter((_object) => (_object.name !== object.name))\r\n  }),\r\n  [OPEN_CHEST]: (state) => state.merge({\r\n    isOpenChest: true\r\n  }),\r\n  [CLOSE_CHEST]: (state) => state.merge({\r\n    isOpenChest: false\r\n  }),\r\n\t[SET_MESSAGE]: (state, { payload: message }) => state.merge({\r\n    message\r\n  })\r\n}, initialState);\r\n\r\n\r\nexport default general;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/general.js","export const NEW = '';\nexport const DONE = '';\nexport const FAILED = '';\n\n\n\n// WEBPACK FOOTER //\n// ./constants/status-task.js","import { DONE } from '../../constants/status-task';\r\n\r\nexport default {\r\n\tname: 'Vasia',\r\n\tstartDialog: 'offerTask',\r\n\tdialogs: {\r\n\t\tofferTask: {\r\n\t\t\ttext: ',    ?',\r\n\t\t\tclose: true,\r\n\t\t\tanswers: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: '  ',\r\n\t\t\t\t\tcharacter: {\r\n\t\t\t\t\t\ttext: '   ,   .      .   ,    .   ,     .       .        ',\r\n\t\t\t\t\t\tanswers: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttext: ',  ',\r\n\t\t\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\t\t\ttask: {\r\n\t\t\t\t\t\t\t\t\tname: 'parcel',\r\n\t\t\t\t\t\t\t\t\taction: 'add'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\thistory: {\r\n\t\t\t\t\t\t\t\t\tcharacters: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tname: 'Vasia',\r\n\t\t\t\t\t\t\t\t\t\t\tstartDialog: 'default'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: ' ,      .    ,      ?',\r\n\t\t\t\t\tcharacter: {\r\n\t\t\t\t\t\ttext: ',  ',\r\n\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\tmessage: '    !'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tdefault: {\r\n\t\t\ttext: '   ?',\r\n\t\t\tclose: true,\r\n\t\t\tanswers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tconditions: {\r\n\t\t\t\t\t\tactions: [],\r\n\t\t\t\t\t\tinventory: ['parcel']\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttext: '  ',\r\n          task: {\r\n            params: {\r\n              name: 'parcel',\r\n              status: DONE\r\n            },\r\n            action: 'change_status'\r\n          },\r\n          inventory: {\r\n            object: {\r\n              name: 'parcel',\r\n            },\r\n            action: 'remove'\r\n          },\r\n\t\t\t\t\tcharacter: {\r\n\t\t\t\t\t\ttext: ' ,   10 ',\r\n\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\tmessage: '   !'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/characters/vasia.js","import { NEW } from '../../constants/status-task';\r\n\r\nconst answerParcel = {\r\n\tconditions: {\r\n\t\ttasks: [{\r\n\t\t\tname: 'parcel',\r\n\t\t\tstatus: NEW\r\n\t\t}]\r\n\t},\r\n\ttext: '    ',\r\n\tinventory: {\r\n\t\tobject: {\r\n\t\t\tname: 'parcel',\r\n\t\t\tdescription: '  '\r\n\t\t},\r\n\t\taction: 'add'\r\n\t},\r\n\ttask: {\r\n\t\tparams: {\r\n      name: 'parcel',\r\n      tip: '  ,    ',\r\n\t\t},\r\n\t\taction: 'tip'\r\n\t},\r\n\tcharacter: {\r\n\t\ttext: '     ?  ...',\r\n\t\tclose: true\r\n\t}\r\n};\r\n\r\nexport default {\r\n\tname: 'Sokol',\r\n\tstartDialog: 'default',\r\n\tdialogs: {\r\n\t\tgetOut: {\r\n\t\t\ttext: '   , !',\r\n\t\t\tclose: true,\r\n\t\t\tanswers: [\r\n\t\t\t\tanswerParcel\r\n\t\t\t]\r\n\t\t},\r\n\t\tdefault: {\r\n\t\t\ttext: '  ?     .',\r\n\t\t\tclose: true,\r\n\t\t\tanswers: [\r\n\t\t\t\tanswerParcel,\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: '   ',\r\n\t\t\t\t\thistory: {\r\n\t\t\t\t\t\tcharacters: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: 'Sokol',\r\n\t\t\t\t\t\t\t\tstartDialog: 'getOut'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcharacter: {\r\n\t\t\t\t\t\ttext: '    ,  !',\r\n\t\t\t\t\t\tclose: true,\r\n            answers: [{\r\n            \t\ttext: '     !',\r\n\t\t\t\t\t\t\t\tcharacter: {\r\n\t\t\t\t\t\t\t\t\ttext: '...',\r\n\t\t\t\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '   ,     !'\r\n\t\t\t\t\t\t\t\t}\r\n            \t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/characters/sokol.js","import vasia from './vasia';\r\nimport sokol from './sokol';\r\n\r\nexport default {\r\n\tVasia: vasia,\r\n\tSokol: sokol\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./data/characters/index.js","import { fromJS, List } from 'immutable';\r\nimport { handleActions } from 'redux-actions';\r\nimport characters from '../data/characters';\r\nimport { CLOSE_DIALOG, NEXT_DIALOG, SAVE_CHARACTER_TO_HISTORY, START_DIALOG } from '../constants/actions';\r\n\r\nconst initialState = fromJS({\r\n\tdialog: null,\r\n\tcharacter: null,\r\n\thistory: List()\r\n});\r\n\r\nconst conversation = handleActions({\r\n\t[START_DIALOG]: (state, { payload: characterName }) => {\r\n\t\tlet dialog;\r\n\t\tlet character = characters[characterName];\r\n\t\tlet characterFromHistory = state.get('history').find((character) => (character.name === characterName));\r\n\t\tif (!character) throw new Error('Character not found!');\r\n    \r\n\t\tif (characterFromHistory) {\r\n\t\t\tdialog = character.dialogs[characterFromHistory.startDialog];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdialog = character.dialogs[character.startDialog];\r\n\t\t}\r\n    \r\n\t\treturn state.merge({\r\n\t\t\tcharacter,\r\n\t\t\tdialog\r\n\t\t});\r\n\t},\r\n\t[NEXT_DIALOG]: (state, { payload: conversation }) => state.merge({\r\n\t\tdialog: conversation\r\n\t}),\r\n\t[CLOSE_DIALOG]: (state) => state.merge({\r\n\t\tdialog: null,\r\n\t\tcharacter: null\r\n\t}),\r\n\t[SAVE_CHARACTER_TO_HISTORY]: (state, { payload: character }) => {\r\n\t\tlet history = state.get('history');\r\n\t\tif (history.find((_character) => (_character.name === character.name))) {\r\n\t\t\thistory = history.map((_character) => {\r\n\t\t\t\tif (_character.name === character.name) {\r\n\t\t\t\t\treturn character;\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\t..._character,\r\n\t\t\t\t\t...character\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\thistory = history.push(character);\r\n\t\t}\r\n\t\treturn state.merge({\r\n\t\t\thistory\r\n\t\t});\r\n\t}\r\n  \r\n}, initialState);\r\n\r\n\r\nexport default conversation;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/conversation.js","import { NEW } from '../../constants/status-task';\r\n\r\nexport default {\r\n\tparcel: {\r\n\t\tname: 'parcel',\r\n\t\ttitle: '  ',\r\n\t\tdescription: '     ,     ',\r\n\t\ttips: [],\r\n\t\tstatus: NEW\r\n\t}\r\n};\n\n\n// WEBPACK FOOTER //\n// ./data/tasks/index.js","import { fromJS, List } from 'immutable';\r\nimport { handleActions } from 'redux-actions';\r\nimport tasks from '../data/tasks';\r\nimport { ADD_TASK, ADD_TIP_TO_TASK, DISPLAY_TASK, CHANGE_STATUS_TASK } from '../constants/actions';\r\n\r\nconst initialState = fromJS({\r\n\ttasks: List(),\r\n  displayTask: null\r\n});\r\n\r\nconst book = handleActions({\r\n\t[ADD_TASK]: (state, { payload: taskName }) => {\r\n\t\tlet task = tasks[taskName];\r\n\t\tif (!task) throw new Error('Task not found!');\r\n\t\treturn state.merge({\r\n\t\t\ttasks: state.get('tasks').push(task)\r\n\t\t});\r\n\t},\r\n\t[ADD_TIP_TO_TASK]: (state, { payload: task }) => {\r\n\t\tlet displayTask = state.get('displayTask');\r\n\t\treturn state.merge({\r\n\t\t\ttasks: state.get('tasks').map((_task) => {\r\n\t\t\t\tif(_task.name === task.name) {\r\n\t\t\t\t\tlet nextTask = {\r\n            ..._task,\r\n            tips: [..._task.tips, task.tip]\r\n          };\r\n\t\t\t\t\tif(nextTask.name === displayTask.name) {\r\n            displayTask = nextTask;\r\n\t\t\t\t\t}\r\n          return nextTask;\r\n\t\t\t\t}\r\n\t\t\t\treturn _task;\r\n\t\t\t}),\r\n      displayTask\r\n\t\t});\r\n\t},\r\n  [CHANGE_STATUS_TASK]: (state, { payload: task }) => {\r\n    return state.merge({\r\n      tasks: state.get('tasks').map((_task) => {\r\n        if(_task.name === task.name) {\r\n          return {\r\n            ..._task,\r\n            status: task.status\r\n          };\r\n        }\r\n        return _task;\r\n      })\r\n    });\r\n  },\r\n  [DISPLAY_TASK]: (state, { payload: task }) => state.merge({\r\n    displayTask: task\r\n  })\r\n}, initialState);\r\n\r\n\r\nexport default book;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/book.js","import { combineReducers } from 'redux-immutable';\r\nimport general from './general';\r\nimport conversation from './conversation';\r\nimport book from './book';\r\n\r\nconst reducers = combineReducers({\r\n\tgeneral,\r\n\tconversation,\r\n\tbook\r\n});\r\n\r\nexport default reducers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/index.js","import Noty from 'noty';\r\nimport './style.scss';\r\nimport { ADD_TASK, ADD_OBJECT_TO_INVENTORY, ADD_TIP_TO_TASK, CHANGE_STATUS_TASK, REMOVE_OBJECT_TO_INVENTORY } from '../constants/actions';\r\nimport { DONE, FAILED } from '../constants/status-task';\r\n\r\n// let gameElement = '.game';\r\n// if (typeof window !== \"undefined\") {\r\n//   gameElement = document.getElementById(\"game\");\r\n// }\r\n\r\nconst createNoty = (text) => {\r\n  new Noty({\r\n    text,\r\n    layout: 'topCenter',\r\n    timeout: 3000\r\n  }).show();\r\n}\r\n\r\nconst notyMiddleware = store => next => action => {\r\n  const { type, payload } = action;\r\n  \r\n  if(type === ADD_TASK){\r\n    createNoty(` `);\r\n  }\r\n  else if(type === CHANGE_STATUS_TASK){\r\n    if(payload.status === DONE) {\r\n      createNoty(` `);\r\n    }\r\n  }\r\n  else if(type === ADD_OBJECT_TO_INVENTORY){\r\n    createNoty(`   `);\r\n  }\r\n  else if(type === REMOVE_OBJECT_TO_INVENTORY){\r\n    createNoty(`   `);\r\n  }\r\n  else if(type === ADD_TIP_TO_TASK){\r\n    createNoty(` `);\r\n  }\r\n  \r\n  return next(action);\r\n};\r\n\r\nexport default notyMiddleware;\n\n\n// WEBPACK FOOTER //\n// ./middleware/noty.js","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './reducers';\r\nimport notyMiddleware from './middleware/noty';\r\n\r\nexport default function configureStore(initialState) {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n    composeWithDevTools(\r\n      applyMiddleware(notyMiddleware),\r\n    )\r\n\t);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./configureStore.js","import style from './style';\r\n\r\nconst Character = ({ name, available, className, handlerClick }) => (\r\n\t<div className={`${style.character} ${style.character}--how-${name} ${className}`} onClick={() => handlerClick(name)}>\r\n\t\t<div className={style['character--name']}>{name}</div>\r\n\t\t<img src={`/assets/characters/${name.toLowerCase()}.png`} alt={name} />\r\n\t</div>\r\n);\r\n\r\nexport default Character;\n\n\n// WEBPACK FOOTER //\n// ./components/character/index.js","import style from './style';\r\n\r\nconst Arrow = ({ name, available, type, className, handlerOnClick }) => (\r\n\t<div className={`${style.arrow} ${className}`}>\r\n\t\t<img src={`/assets/arrows/${type}.svg`} alt=\"arrow\" onClick={() => handlerOnClick(name)} />\r\n\t</div>\r\n);\r\n\r\nexport default Arrow;\n\n\n// WEBPACK FOOTER //\n// ./components/arrow/index.js","import style from './style';\r\nimport Character from '../character';\r\nimport Arrow from '../arrow';\r\n\r\nconst Location = ({ name, characters, nextLocations, handlerChangeLocation, handlerClickCharacter }) => (\r\n\t<div className={`${style.location} ${style[`location--type-${name}`]}`}>\r\n\t\t<img src={`/assets/locations/${name}.jpg`} alt=\"location\" />\r\n\t\t{characters.map(character => (<Character {...character} className={style[character.name]}\r\n\t\t\thandlerClick={handlerClickCharacter}\r\n\t\t                              />))}\r\n\t\t{nextLocations.map(location => (<Arrow {...location} className={style[location.name]}\r\n\t\t\thandlerOnClick={handlerChangeLocation}\r\n\t\t                                />))}\r\n\t</div>\r\n);\r\n\r\nexport default Location;\n\n\n// WEBPACK FOOTER //\n// ./components/location/index.js","import style from './style';\r\n\r\nconst Conversation = ({ character, dialog, handlerNextDialog, handlerCloseDialog, checkConditions }) => (\r\n\t<div>\r\n\t\t<div className={style.conversation}>\r\n\t\t\t<div className={style['conversation--content']}>\r\n\t\t\t\t<div className={style['conversation--text']}>{dialog.text}</div>\r\n\t\t\t\t<ul className={style['conversation--answers']}>\r\n\t\t\t\t\t{Array.isArray(dialog.answers) && dialog.answers\r\n\t\t\t\t\t\t.filter(checkConditions)\r\n\t\t\t\t\t\t.map(answer => (<li onClick={() => handlerNextDialog(answer)}>\r\n\t\t\t\t\t\t\t{answer.text}\r\n\t\t\t\t\t\t</li>))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className={style['conversation--avatar']}>\r\n\t\t\t\t<img src={`/assets/characters/avatar-${character.name.toLowerCase()}.png`} alt={name} />\r\n\t\t\t\t<div className={style['conversation--name']}>{character.name}</div>\r\n\t\t\t</div>\r\n\t\t\t<hr className={style['conversation--hr']} />\r\n\t\t\t<div className={style['conversation--panel']}>\r\n\t\t\t\t<button type=\"button\" className={dialog.close ? '' : style['conversation--button-disabled']}\r\n\t\t\t\t\tonClick={handlerCloseDialog}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img src=\"/assets/conversation/forward.svg\" alt=\" \" title=\" \" />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className={style['conversation--bg']} />\r\n\t</div>\r\n);\r\n\r\nexport default Conversation;\n\n\n// WEBPACK FOOTER //\n// ./components/conversation/index.js","import style from './style';\r\n\r\nconst Inventory = ({ inventory }) => (\r\n  <div className={style.inventory}>\r\n    {Array.isArray(inventory) && inventory.map((object) => {\r\n      return <div className={style['inventory--item']}>\r\n        <img src={`/assets/anothers/${object.name}.svg`} alt={object.name} title={object.description}/>\r\n      </div>\r\n    })}\r\n\t</div>\r\n);\r\n\r\nexport default Inventory;\n\n\n// WEBPACK FOOTER //\n// ./components/inventory/index.js","import style from './style';\r\n\r\nconst TaskList = ({ tasks, handlerClick, displayTask }) => (\r\n  <div className={style['task-list']}>\r\n    {Array.isArray(tasks) && tasks.length ? tasks.map((task, idx) => (\r\n      <div className={`${style['task-list--item']} ${displayTask && displayTask.name === task.name ? style['task-list--item-actived'] : ''}`} onClick={() => handlerClick(task)}>\r\n        <div className={style['task-list--index']}>{ idx + 1 }</div>\r\n        <div className={style['task-list--name']}>{ task.title }</div>\r\n        <div className={style['task-list--status']}>{ task.status }</div>\r\n      </div>\r\n    )) : <div className={style['task-list--empty']}>\r\n        \r\n    </div>}\r\n  </div>\r\n);\r\n\r\nexport default TaskList;\n\n\n// WEBPACK FOOTER //\n// ./components/task-list/index.js","import style from './style';\r\n\r\nconst TaskDescription = ({ description, tips }) => (\r\n  <div className={style['task-description']}>\r\n    { description }\r\n    <hr className={style['task-description--hr']}/>\r\n    {Array.isArray(tips) && tips.map((tip) => (\r\n      <div className={style['task-description--tip']}>\r\n        { tip }\r\n        <hr className={style['task-description--hr']}/>\r\n      </div>\r\n    ))}\r\n\t</div>\r\n);\r\n\r\nexport default TaskDescription;\n\n\n// WEBPACK FOOTER //\n// ./components/task-description/index.js","import style from './style';\r\nimport Inventory from '../inventory';\r\nimport TaskList from '../task-list';\r\nimport TaskDescription from '../task-description';\r\n\r\nconst Chest = ({ open, inventory, tasks, displayTask, handlerOpenChest, handlerCloseChest, handlerDisplayTask }) => (\r\n  <div className={style.chest}>\r\n\t\t<button type=\"button\" className={style['chest--target']} onClick={handlerOpenChest}>\r\n      <img src=\"/assets/anothers/treasure.svg\" alt=\" \" title=\" \" />\r\n    </button>\r\n    {open && <div className={style['chest--modal']}>\r\n      <div className={style['chest--content']}>\r\n        <div className={style['chest--title']}></div>\r\n        <Inventory inventory={inventory} />\r\n      </div>\r\n      <div className={style['chest--content']}>\r\n        <div className={style['chest--title']}> </div>\r\n        <TaskList tasks={tasks} handlerClick={handlerDisplayTask} displayTask={displayTask} />\r\n      </div>\r\n\t\t\t{displayTask && <div className={style['chest--content']}>\r\n        <div className={style['chest--title']}>{displayTask.title}</div>\r\n        <TaskDescription {...displayTask} />\r\n      </div>}\r\n      <button type=\"button\" className={style['chest--close']} onClick={handlerCloseChest}>\r\n        <img src=\"/assets/anothers/close.svg\" alt=\" \" title=\" \" />\r\n      </button>\r\n    </div>}\r\n\t\t<div className={style['hest--bg']} />\r\n\t</div>\r\n);\r\n\r\nexport default Chest;\n\n\n// WEBPACK FOOTER //\n// ./components/chest/index.js","import style from './style';\r\n\r\nconst Message = ({ message }) => (\r\n  <div>\r\n    <div className={style.message}>\r\n      {/*<img src={`/assets/message/${slug.toLowerCase()}.png`} alt={name} />*/}\r\n      <div className={style['message--text']}>{message}</div>\r\n      <button onClick={() => location.reload()} className={style['message--out']} type=\"button\">\r\n        <img  src=\"/assets/conversation/forward.svg\" />\r\n      </button>\r\n    </div>\r\n    <div className={style['message--bg']}></div>\r\n\t</div>\r\n);\r\n\r\nexport default Message;\n\n\n// WEBPACK FOOTER //\n// ./components/message/index.js","import { createAction } from 'redux-actions';\r\nimport { CHANGE_LOCATION, ADD_OBJECT_TO_INVENTORY, REMOVE_OBJECT_TO_INVENTORY, OPEN_CHEST, CLOSE_CHEST, SET_MESSAGE } from '../constants/actions';\r\n\r\nexport const changeLocation = createAction(CHANGE_LOCATION, (locationName) => (locationName));\r\n\r\nexport const addObjectToInventory = createAction(ADD_OBJECT_TO_INVENTORY, (object) => (object));\r\n\r\nexport const removeObjectToInventory = createAction(REMOVE_OBJECT_TO_INVENTORY, (object) => (object));\r\n\r\nexport const openChest = createAction(OPEN_CHEST);\r\n\r\nexport const closeChest = createAction(CLOSE_CHEST);\r\n\r\nexport const setMessage = createAction(SET_MESSAGE, (message) => (message));\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/general.js","import createAction from 'redux-actions/es/createAction';\r\nimport { NEXT_DIALOG, START_DIALOG, CLOSE_DIALOG, SAVE_CHARACTER_TO_HISTORY } from '../constants/actions';\r\n\r\nexport const startDialog = createAction(START_DIALOG, (characterName) => (characterName));\r\n\r\nexport const nextDialog = createAction(NEXT_DIALOG, (conversation) => (conversation));\r\n\r\nexport const closeDialog = createAction(CLOSE_DIALOG, (conversation) => (conversation));\r\n\r\nexport const saveCharacterToHistory = createAction(SAVE_CHARACTER_TO_HISTORY, (character) => (character));\n\n\n// WEBPACK FOOTER //\n// ./actions/conversation.js","import createAction from 'redux-actions/es/createAction';\r\nimport { ADD_TASK, CHANGE_STATUS_TASK, ADD_TIP_TO_TASK, DISPLAY_TASK } from '../constants/actions';\r\n\r\nexport const addTask = createAction(ADD_TASK, (taskName) => (taskName));\r\n\r\nexport const changeStatusTask = createAction(CHANGE_STATUS_TASK, (task) => (task));\r\n\r\nexport const addTipToTask = createAction(ADD_TIP_TO_TASK, (task) => (task));\r\n\r\nexport const displayTaskAction = createAction(DISPLAY_TASK, (task) => (task));\r\n\n\n\n// WEBPACK FOOTER //\n// ./actions/book.js","import { createGetSelector } from 'reselect-immutable-helpers';\r\n\r\nconst getGeneral = createGetSelector(state => state, 'general');\r\n\r\nexport const getLocationActive = createGetSelector(getGeneral, 'locationActive');\r\n\r\nexport const getInventory = createGetSelector(getGeneral, 'inventory');\r\n\r\nexport const isOpenChestSelector = createGetSelector(getGeneral, 'isOpenChest');\r\n\r\nexport const getMessageSelector = createGetSelector(getGeneral, 'message');\n\n\n// WEBPACK FOOTER //\n// ./selectors/general.js","import { createGetSelector } from 'reselect-immutable-helpers';\r\n\r\nexport const getConversation = createGetSelector(state => state, 'conversation');\r\n\r\nexport const getDialog = createGetSelector(getConversation, 'dialog');\r\n\r\nexport const getCharacter = createGetSelector(getConversation, 'character');\n\n\n// WEBPACK FOOTER //\n// ./selectors/conversation.js","import { createGetSelector } from 'reselect-immutable-helpers';\r\n\r\nconst getBook = createGetSelector(state => state, 'book');\r\n\r\nexport const getTasks = createGetSelector(getBook, 'tasks');\r\n\r\nexport const displayTaskSelect = createGetSelector(getBook, 'displayTask');\n\n\n// WEBPACK FOOTER //\n// ./selectors/book.js","import { Component } from 'preact';\r\nimport { connect } from 'preact-redux';\r\nimport { createPropsSelector } from 'reselect-immutable-helpers';\r\n\r\nimport Location from '../../components/location';\r\nimport Conversation from '../../components/conversation';\r\nimport Chest from '../../components/chest';\r\nimport Message from '../../components/message';\r\n\r\nimport { addObjectToInventory, removeObjectToInventory, changeLocation, openChest, closeChest, setMessage  } from '../../actions/general';\r\nimport { closeDialog, nextDialog, saveCharacterToHistory, startDialog } from '../../actions/conversation';\r\nimport { addTask, addTipToTask, displayTaskAction, changeStatusTask } from '../../actions/book';\r\n\r\nimport { getInventory, getLocationActive, isOpenChestSelector, getMessageSelector } from '../../selectors/general';\r\nimport { getCharacter, getDialog } from '../../selectors/conversation';\r\nimport { getTasks, displayTaskSelect } from '../../selectors/book';\r\nimport style from './style';\r\n\r\n\r\nclass Game extends Component {\r\n  \r\n  handlerDialog = (answer) => {\r\n    const {handlerNextDialog, handlerAddTask, handlerAddTipToTask, handlerSaveCharacterToHistory, handlerCloseDialog, handlerAddInventory, handlerRemoveInventory, handlerChangeStatusTask} = this.props;\r\n    const {character, task, message, history, close, inventory} = answer;\r\n  \r\n    if(character) {\r\n      handlerNextDialog(character);\r\n    }\r\n  \r\n    if(task) {\r\n      if(task.action === 'add') {\r\n        handlerAddTask(task.name);\r\n      } else if(task.action === 'tip') {\r\n        handlerAddTipToTask(task.params);\r\n      } else if(task.action === 'change_status'){\r\n        handlerChangeStatusTask(task.params);\r\n      }\r\n    }\r\n  \r\n    if(inventory) {\r\n      if(inventory.action === 'add') {\r\n        handlerAddInventory(inventory.object);\r\n      } else if(inventory.action === 'remove') {\r\n        handlerRemoveInventory(inventory.object);\r\n      }\r\n    }\r\n  \r\n    if(history && history.characters) {\r\n      history.characters.forEach((character) => {\r\n        handlerSaveCharacterToHistory(character);\r\n      });\r\n    }\r\n  \r\n    if(close) {\r\n      handlerCloseDialog();\r\n    }\r\n  };\r\n  \r\n  handlerCloseDialog = () => {\r\n    const { handlerCloseDialog, handlerSetMessage, dialog } = this.props;\r\n    if(dialog.message){\r\n      handlerSetMessage(dialog.message);\r\n    }\r\n    handlerCloseDialog();\r\n  }\r\n  \r\n  checkConditions = (answer) => {\r\n    const {conditions} = answer;\r\n    const {inventory, tasks, actions} = this.props;\r\n    if(!conditions) return true;\r\n  \r\n    if(Array.isArray(conditions.inventory) &&\r\n      conditions.inventory.length &&\r\n      !conditions.inventory.every((object) => (inventory.find(_object => _object.name === object)))\r\n    ) {\r\n      return false;\r\n    }\r\n  \r\n    if(Array.isArray(conditions.tasks) &&\r\n      conditions.tasks.length &&\r\n      !conditions.tasks.every((object) => (tasks.find(_object => _object.name === object.name && _object.status === object.status)))\r\n    ) {\r\n      return false;\r\n    }\r\n  \r\n    return true;\r\n  };\r\n  \r\n  render() {\r\n    const {\r\n    \tlocationActive,\r\n\t\t\tdialog,\r\n\t\t\tcharacter,\r\n\t\t\tinventory,\r\n\t\t\ttasks,\r\n      message,\r\n      isOpenChest,\r\n      displayTask,\r\n      handlerDisplayTask,\r\n\t\t\thandlerChangeLocation,\r\n\t\t\thandlerStartDialog,\r\n      handlerOpenChest,\r\n      handlerCloseChest } = this.props;\r\n    \r\n    return (<div id=\"game\" class={style.game}>\r\n  \t\t<Location {...locationActive}\r\n                handlerChangeLocation={handlerChangeLocation}\r\n                handlerClickCharacter={handlerStartDialog}\r\n      />\r\n      {dialog && character && <Conversation dialog={dialog}\r\n                                            character={character}\r\n                                            checkConditions={this.checkConditions}\r\n                                            handlerNextDialog={this.handlerDialog}\r\n                                            handlerCloseDialog={this.handlerCloseDialog}\r\n      />}\r\n      <Chest open={isOpenChest}\r\n\t\t\t\t\t\t inventory={inventory}\r\n\t\t\t\t\t\t tasks={tasks}\r\n             displayTask={displayTask}\r\n\t\t\t\t\t\t handlerOpenChest={handlerOpenChest}\r\n\t\t\t\t\t\t handlerCloseChest={handlerCloseChest}\r\n             handlerDisplayTask={handlerDisplayTask}\r\n      />\r\n      {message && <Message message={message}/>}\r\n  \t</div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createPropsSelector({\r\n\tlocationActive: getLocationActive,\r\n  dialog: getDialog,\r\n  character: getCharacter,\r\n  inventory: getInventory,\r\n  tasks: getTasks,\r\n  isOpenChest: isOpenChestSelector,\r\n  displayTask: displayTaskSelect,\r\n  message: getMessageSelector,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  handlerChangeLocation(locationName) {\r\n    dispatch(changeLocation(locationName));\r\n  },\r\n  handlerStartDialog(characterName) {\r\n    dispatch(startDialog(characterName));\r\n  },\r\n  handlerNextDialog(conversation) {\r\n    dispatch(nextDialog(conversation));\r\n  },\r\n  handlerCloseDialog() {\r\n    dispatch(closeDialog());\r\n  },\r\n  handlerAddTask(taskName) {\r\n    dispatch(addTask(taskName));\r\n  },\r\n  handlerSaveCharacterToHistory(character) {\r\n    dispatch(saveCharacterToHistory(character));\r\n  },\r\n  handlerAddInventory(object) {\r\n    dispatch(addObjectToInventory(object));\r\n  },\r\n  handlerRemoveInventory(object) {\r\n    dispatch(removeObjectToInventory(object));\r\n  },\r\n\thandlerOpenChest(){\r\n    dispatch(openChest());\r\n\t},\r\n  handlerCloseChest(){\r\n    dispatch(closeChest());\r\n  },\r\n  handlerDisplayTask(task){\r\n    dispatch(displayTaskAction(task));\r\n  },\r\n  handlerAddTipToTask(task) {\r\n    dispatch(addTipToTask(task));\r\n  },\r\n  handlerChangeStatusTask(task) {\r\n    dispatch(changeStatusTask(task));\r\n  },\r\n  handlerSetMessage(message) {\r\n    dispatch(setMessage(message));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/game/index.js","import { Component } from 'preact';\r\nimport { Router } from 'preact-router';\r\nimport { Provider } from 'preact-redux';\r\nimport configureStore from '../configureStore';\r\n// Code-splitting is automated for routes\r\nimport Game from '../routes/game';\r\n\r\nconst store = configureStore();\r\n\r\nexport default class App extends Component {\r\n  \r\n  /** Gets fired when the route changes.\r\n   *  @param {Object} event    \"change\" event from [preact-router](http://git.io/preact-router)\r\n   *  @param {string} event.url  The newly routed URL\r\n   */\r\n  handleRoute = e => {\r\n  \tthis.currentUrl = e.url;\r\n  };\r\n  \r\n  render() {\r\n  \treturn (\r\n  \t\t<Provider store={store}>\r\n  \t\t\t<div id=\"app\">\r\n  \t\t\t\t{/*<Header />*/}\r\n  \t\t\t\t<Router onChange={this.handleRoute}>\r\n  \t\t\t\t\t<Game path=\"/\" />\r\n  \t\t\t\t\t{/*<Profile path=\"/profile/\" user=\"me\" />*/}\r\n  \t\t\t\t\t{/*<Profile path=\"/profile/:user\" />*/}\r\n  \t\t\t\t</Router>\r\n  \t\t\t</div>\r\n  \t\t</Provider>\r\n  \t);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/app.js","import './style';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","!function(){\"use strict\";function e(e,t){var n,o,r,i,l=W;for(i=arguments.length;i-- >2;)P.push(arguments[i]);t&&null!=t.children&&(P.length||P.push(t.children),delete t.children);while(P.length)if((o=P.pop())&&void 0!==o.pop)for(i=o.length;i--;)P.push(o[i]);else\"boolean\"==typeof o&&(o=null),(r=\"function\"!=typeof e)&&(null==o?o=\"\":\"number\"==typeof o?o+=\"\":\"string\"!=typeof o&&(r=!1)),r&&n?l[l.length-1]+=o:l===W?l=[o]:l.push(o),n=r;var a=new T;return a.nodeName=e,a.children=l,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,void 0!==M.vnode&&M.vnode(a),a}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){null!=e&&(\"function\"==typeof e?e(t):e.current=t)}function o(n,o){return e(n.nodeName,t(t({},n.attributes),o),arguments.length>2?[].slice.call(arguments,2):n.children)}function r(e){!e.__d&&(e.__d=!0)&&1==V.push(e)&&(M.debounceRendering||D)(i)}function i(){var e;while(e=V.pop())e.__d&&x(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var n=t({},e.attributes);n.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===n[r]&&(n[r]=o[r]);return n}function c(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function s(e,t,o,r,i){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n(o,null),n(r,e);else if(\"class\"!==t||i)if(\"style\"===t){if(r&&\"string\"!=typeof r&&\"string\"!=typeof o||(e.style.cssText=r||\"\"),r&&\"object\"==typeof r){if(\"string\"!=typeof o)for(var l in o)l in r||(e.style[l]=\"\");for(var l in r)e.style[l]=\"number\"==typeof r[l]&&!1===E.test(l)?r[l]+\"px\":r[l]}}else if(\"dangerouslySetInnerHTML\"===t)r&&(e.innerHTML=r.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var a=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),r?o||e.addEventListener(t,_,a):e.removeEventListener(t,_,a),(e.__l||(e.__l={}))[t]=r}else if(\"list\"!==t&&\"type\"!==t&&!i&&t in e){try{e[t]=null==r?\"\":r}catch(e){}null!=r&&!1!==r||\"spellcheck\"==t||e.removeAttribute(t)}else{var u=i&&t!==(t=t.replace(/^xlink:?/,\"\"));null==r||!1===r?u?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof r&&(u?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||\"\"}function _(e){return this.__l[e.type](M.event&&M.event(e)||e)}function f(){var e;while(e=A.shift())M.afterMount&&M.afterMount(e),e.componentDidMount&&e.componentDidMount()}function d(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,B=null!=e&&!(\"__preactattr_\"in e));var l=h(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(B=!1,i||f()),l}function h(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),v(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return N(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=c(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),v(e,!0)}var p=i.firstChild,s=i.__preactattr_,_=t.children;if(null==s){s=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)s[f[d].name]=f[d].value}return!B&&_&&1===_.length&&\"string\"==typeof _[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=_[0]&&(p.nodeValue=_[0]):(_&&_.length||null!=p)&&m(i,_,n,o,B||null!=s.dangerouslySetInnerHTML),y(i,t.attributes,s),R=l,i}function m(e,t,n,o,r){var i,a,u,c,s,_=e.childNodes,f=[],d={},m=0,b=0,y=_.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=_[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(m++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){c=t[C],s=null;var k=c.key;if(null!=k)m&&void 0!==d[k]&&(s=d[k],d[k]=void 0,m--);else if(b<g)for(i=b;i<g;i++)if(void 0!==f[i]&&l(a=f[i],c,r)){s=a,f[i]=void 0,i===g-1&&g--,i===b&&b++;break}s=h(s,c,n,o),u=_[C],s&&s!==e&&s!==u&&(null==u?e.appendChild(s):s===u.nextSibling?p(u):e.insertBefore(s,u))}if(m)for(var C in d)void 0!==d[C]&&v(d[C],!1);while(b<=g)void 0!==(s=f[g--])&&v(s,!1)}function v(e,t){var o=e._component;o?k(o):(null!=e.__preactattr_&&n(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||p(e),b(e))}function b(e){e=e.lastChild;while(e){var t=e.previousSibling;v(e,!0),e=t}}function y(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||s(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||s(e,o,n[o],n[o]=t[o],R)}function g(e,t,n){var o,r=F.length;e.prototype&&e.prototype.render?(o=new e(t,n),U.call(o,t,n)):(o=new U(t,n),o.constructor=e,o.render=w);while(r--)if(F[r].constructor===e)return o.__b=F[r].__b,F.splice(r,1),o;return o}function w(e,t,n){return this.constructor(e,n)}function C(e,t,o,i,l){e.__x||(e.__x=!0,e.__r=t.ref,e.__k=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||l?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i)),i&&i!==e.context&&(e.__c||(e.__c=e.context),e.context=i),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==o&&(1!==o&&!1===M.syncComponentUpdates&&e.base?r(e):x(e,1,l)),n(e.__r,e))}function x(e,n,o,r){if(!e.__x){var i,l,a,c=e.props,p=e.state,s=e.context,_=e.__p||c,h=e.__s||p,m=e.__c||s,b=e.base,y=e.__b,w=b||y,N=e._component,U=!1,S=m;if(e.constructor.getDerivedStateFromProps&&(p=t(t({},p),e.constructor.getDerivedStateFromProps(c,p)),e.state=p),b&&(e.props=_,e.state=h,e.context=m,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,p,s)?U=!0:e.componentWillUpdate&&e.componentWillUpdate(c,p,s),e.props=c,e.state=p,e.context=s),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!U){i=e.render(c,p,s),e.getChildContext&&(s=t(t({},s),e.getChildContext())),b&&e.getSnapshotBeforeUpdate&&(S=e.getSnapshotBeforeUpdate(_,h));var L,T,P=i&&i.nodeName;if(\"function\"==typeof P){var W=u(i);l=N,l&&l.constructor===P&&W.key==l.__k?C(l,W,1,s,!1):(L=l,e._component=l=g(P,W,s),l.__b=l.__b||y,l.__u=e,C(l,W,0,s,!1),x(l,1,o,!0)),T=l.base}else a=w,L=N,L&&(a=e._component=null),(w||1===n)&&(a&&(a._component=null),T=d(a,i,s,o||!b,w&&w.parentNode,!0));if(w&&T!==w&&l!==N){var D=w.parentNode;D&&T!==D&&(D.replaceChild(T,w),L||(w._component=null,v(w,!1)))}if(L&&k(L),e.base=T,T&&!r){var E=e,V=e;while(V=V.__u)(E=V).base=T;T._component=E,T._componentConstructor=E.constructor}}!b||o?A.push(e):U||(e.componentDidUpdate&&e.componentDidUpdate(_,h,S),M.afterUpdate&&M.afterUpdate(e));while(e.__h.length)e.__h.pop().call(e);H||r||f()}}function N(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,c=a,p=u(t);while(r&&!c&&(r=r.__u))c=r.constructor===t.nodeName;return r&&c&&(!o||r._component)?(C(r,p,3,n,o),e=r.base):(i&&!a&&(k(i),e=l=null),r=g(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),C(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,v(l,!1))),e}function k(e){M.beforeUnmount&&M.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?k(o):t&&(null!=t.__preactattr_&&n(t.__preactattr_.ref,null),e.__b=t,p(t),F.push(e),b(t)),n(e.__r,null)}function U(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{},this.__h=[]}function S(e,t,n){return d(n,e,{},!1,t,!1)}function L(){return{}}var T=function(){},M={},P=[],W=[],D=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,E=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,V=[],A=[],H=0,R=!1,B=!1,F=[];t(U.prototype,{setState:function(e,n){this.__s||(this.__s=this.state),this.state=t(t({},this.state),\"function\"==typeof e?e(this.state,this.props):e),n&&this.__h.push(n),r(this)},forceUpdate:function(e){e&&this.__h.push(e),x(this,2)},render:function(){}});var j={h:e,createElement:e,cloneElement:o,createRef:L,Component:U,render:S,rerender:i,options:M};\"undefined\"!=typeof module?module.exports=j:self.preact=j}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact/dist/preact.min.js","module.exports = curry;\n\n/*\n  function add(a, b, c) {\n    return a + b + c;\n  }\n  curry(add)(1)(2)(3); // 6\n  curry(add)(1)(2)(2); // 5\n  curry(add)(2)(4, 3); // 9\n\n  function add(...args) {\n    return args.reduce((sum, n) => sum + n, 0)\n  }\n  var curryAdd4 = curry(add, 4)\n  curryAdd4(1)(2, 3)(4); // 10\n\n  function converter(ratio, input) {\n    return (input*ratio).toFixed(1);\n  }\n  const curriedConverter = curry(converter)\n  const milesToKm = curriedConverter(1.62);\n  milesToKm(35); // 56.7\n  milesToKm(10); // 16.2\n*/\n\nfunction curry(fn, arity) {\n  return function curried() {\n    if (arity == null) {\n      arity = fn.length;\n    }\n    var args = [].slice.call(arguments);\n    if (args.length >= arity) {\n      return fn.apply(this, args);\n    } else {\n      return function() {\n        return curried.apply(this, args.concat([].slice.call(arguments)));\n      };\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/just-curry-it/index.js","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/symbol-observable/es/index.js","'use strict';\n\nexports.__esModule = true;\nexports.defaultMemoize = defaultMemoize;\nexports.createSelectorCreator = createSelectorCreator;\nexports.createStructuredSelector = createStructuredSelector;\nfunction defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nfunction createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = defaultMemoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nvar createSelector = exports.createSelector = createSelectorCreator(defaultMemoize);\n\nfunction createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/reselect/lib/index.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/invariant/invariant.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^321.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));\n\n\n// WEBPACK FOOTER //\n// ../node_modules/reselect-immutable-helpers/node_modules/immutable/dist/immutable.js","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(\"Dispatching while constructing your middleware is not allowed. \" + \"Other middleware would not be applied to this dispatch.\");\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose, ActionTypes as __DO_NOT_USE__ActionTypes };\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/redux.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"character\":\"character__3WXLR\",\"character--name\":\"character--name__12929\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/character/style.scss\n// module id = b1zY\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateNextState = exports.getUnexpectedInvocationParameterMessage = exports.getStateName = undefined;\n\nvar _getStateName2 = require('./getStateName');\n\nvar _getStateName3 = _interopRequireDefault(_getStateName2);\n\nvar _getUnexpectedInvocationParameterMessage2 = require('./getUnexpectedInvocationParameterMessage');\n\nvar _getUnexpectedInvocationParameterMessage3 = _interopRequireDefault(_getUnexpectedInvocationParameterMessage2);\n\nvar _validateNextState2 = require('./validateNextState');\n\nvar _validateNextState3 = _interopRequireDefault(_validateNextState2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.getStateName = _getStateName3.default;\nexports.getUnexpectedInvocationParameterMessage = _getUnexpectedInvocationParameterMessage3.default;\nexports.validateNextState = _validateNextState3.default;\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/utilities/index.js","\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/to-camel-case/index.js","\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/to-no-case/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"message\":\"message__2EYcP\",\"message--bg\":\"message--bg__1T_ah\",\"message--text\":\"message--text__1Fsy5\",\"message--out\":\"message--out__20Gv1\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/message/style.scss\n// module id = lCuA\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"inventory\":\"inventory__UfAL5\",\"inventory--item\":\"inventory--item__a8wD_\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/inventory/style.scss\n// module id = nfdf\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"chest--modal\":\"chest--modal__pxjOt\",\"chest--bg\":\"chest--bg__wvJv6\",\"chest--close\":\"chest--close__2TAFp\",\"chest--target\":\"chest--target__1slf3\",\"chest--content\":\"chest--content__1eSSp\",\"chest--title\":\"chest--title__2tpie\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/chest/style.scss\n// module id = pMzk\n// module chunks = 0","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/webpack/buildin/harmony-module.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createHasSelector = exports.invertSelector = exports.createGetSelector = exports.createPropsSelector = exports.ensureJSSelector = exports.selectorToJS = exports.createImmutableComparingSelector = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _reselect = require('reselect');\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createImmutableComparingSelector = exports.createImmutableComparingSelector = (0, _reselect.createSelectorCreator)(_reselect.defaultMemoize, _immutable2.default.is);\n\n/**\n * Creates a selector that handles the conversion from Immutable\n * objects to plain Javascript objects.\n *\n * If the result of the input selector is identical to its previous\n * result using Immutable.is, this will return the same JS object as\n * the previous call.\n *\n * This simplifies downstream update checks substantially, since a\n * shallow comparison of the resulting JS objects will only show\n * equality if they are deeply equal. This allows optimization of\n * updates using shallow comparisons in reselect, react-redux, and\n * various React utilities.\n *\n * @param {function} selector - A selector returning an Immutable object\n * @returns {function}\n */\nvar selectorToJS = exports.selectorToJS = function selectorToJS(selector) {\n    return createImmutableComparingSelector(selector, function (raw) {\n        return raw ? raw.toJS() : null;\n    });\n};\n\nvar ensureJSSelector = exports.ensureJSSelector = function ensureJSSelector(selector) {\n    return createImmutableComparingSelector(selector, function () {\n        var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n        if (!item || (typeof item === 'undefined' ? 'undefined' : _typeof(item)) !== 'object') {\n            return item;\n        }\n\n        if ('toJS' in item && typeof item.toJS === 'function') {\n            return item.toJS();\n        }\n        return item;\n    });\n};\n\nvar createPropsSelector = exports.createPropsSelector = function createPropsSelector(selectors) {\n    var wrappedSelectors = {};\n    Object.keys(selectors).forEach(function (key) {\n        wrappedSelectors[key] = ensureJSSelector(selectors[key]);\n    });\n    return (0, _reselect.createStructuredSelector)(wrappedSelectors);\n};\n\n/**\n * Creates a selector that gets a value from a selected Immutable object.\n *\n * @param {function} selector - A selector returning an Immutable object\n * @param {string|number|function} key - The key to be looked up on\n *   the Immutable object. If a function is passed it is treated as a\n *   selector returning the desired key.\n * @param {*} [defaultValue] - An optional value to be returned if the\n *   key does not exist in the Immutable object.\n * @returns {function}\n */\nvar createGetSelector = exports.createGetSelector = function createGetSelector(selector, key, defaultValue) {\n    if (typeof key === 'function') {\n        return (0, _reselect.createSelector)(selector, key, function (obj, keyValue) {\n            return obj.get(keyValue, defaultValue);\n        });\n    }\n    return (0, _reselect.createSelector)(selector, function (obj) {\n        return obj.get(key, defaultValue);\n    });\n};\n\nvar invertSelector = exports.invertSelector = function invertSelector(selector) {\n    return (0, _reselect.createSelector)(selector, function (bool) {\n        return !bool;\n    });\n};\n\n/**\n * Creates a selector that checks whether a key exists in a selected\n * Immutable object.\n *\n * @param {function} selector - A selector returning an Immutable object\n * @param {string|number|function} key - The key to be checked on\n *   the Immutable object. If a function is passed it is treated as a\n *   selector returning the desired key.\n * @returns {function}\n */\nvar createHasSelector = exports.createHasSelector = function createHasSelector(selector, key) {\n    if (typeof key === 'function') {\n        return (0, _reselect.createSelector)(selector, key, function (obj, keyValue) {\n            return obj.has(keyValue);\n        });\n    }\n    return (0, _reselect.createSelector)(selector, function (obj) {\n        return obj.has(key);\n    });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/reselect-immutable-helpers/dist.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/index.css\n// module id = rq4c\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"task-list--item\":\"task-list--item__3WVW4\",\"task-list--item-actived\":\"task-list--item-actived__1e1rB\",\"task-list\":\"task-list__2TtiR\",\"task-list--empty\":\"task-list--empty__2nqWe\",\"task-list--status\":\"task-list--status__1Ru9E\",\"task-list--name\":\"task-list--name__3euft\",\"task-list--index\":\"task-list--index__clTqV\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/task-list/style.scss\n// module id = sNnD\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"game\":\"game__2YIVz\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/game/style.scss\n// module id = vJ5B\n// module chunks = 0","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n        ? index\n        : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\n// Note: value is unchanged to not break immutable-devtools.\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function() {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n          ? value.toSeq()\n          : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n          ? value.toSeq().entrySeq()\n          : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  switch (typeof o) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return o ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(o);\n    case 'string':\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(o)\n        : hashString(o);\n    case 'object':\n    case 'function':\n      if (o === null) {\n        return 0x42108422;\n      }\n      if (typeof o.hashCode === 'function') {\n        // Drop any high bits from accidentally long hash codes.\n        return smi(o.hashCode(o));\n      }\n      if (o.valueOf !== defaultValueOf && typeof o.valueOf === 'function') {\n        o = o.valueOf(o);\n      }\n      return hashJSObj(o);\n    case 'undefined':\n      return 0x42108423;\n    default:\n      if (typeof o.toString === 'function') {\n        return hashString(o.toString());\n      }\n      throw new Error('Value type ' + typeof o + ' cannot be hashed.');\n  }\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction isPlainObj(value) {\n  return (\n    value &&\n    (typeof value.constructor !== 'function' ||\n      value.constructor.name === 'Object')\n  );\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObj(value))\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n        ? collection.get(key)\n        : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n}\n\nfunction setIn(collection, keyPath, value) {\n  return updateIn(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn$1(keyPath, v) {\n  return setIn(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update(collection, key, notSetValue, updater) {\n  return updateIn(collection, [key], notSetValue, updater);\n}\n\nfunction update$1(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update(this, key, notSetValue, updater);\n}\n\nfunction updateIn$1(keyPath, notSetValue, updater) {\n  return updateIn(this, keyPath, notSetValue, updater);\n}\n\nfunction merge() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update(\n            collection,\n            key,\n            NOT_SET,\n            function (oldVal) { return (oldVal === NOT_SET ? value : merger(oldVal, value, key)); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection$$1 = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection$$1(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) && isDataStructure(newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n  }\n  return deepMerger;\n}\n\nfunction mergeDeep$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, map));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn$1;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update$1;\nMapPrototype.updateIn = updateIn$1;\nMapPrototype.merge = MapPrototype.concat = merge;\nMapPrototype.mergeWith = mergeWith;\nMapPrototype.mergeDeep = mergeDeep$1;\nMapPrototype.mergeDeepWith = mergeDeepWith$1;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function(result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n        ? this.shift()\n        : index === this.size - 1\n          ? this.pop()\n          : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection$$1(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, list));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn$1;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update$1;\nListPrototype.updateIn = updateIn$1;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function(result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function(result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var removes = [];\n    var adds = [];\n    this.forEach(function (value) {\n      var mapped = mapper.call(context, value, value, this$1);\n      if (mapped !== value) {\n        removes.push(value);\n        adds.push(mapped);\n      }\n    });\n    return this.withMutations(function (set) {\n      removes.forEach(function (value) { return set.remove(value); });\n      adds.forEach(function (value) { return set.add(value); });\n    });\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function(result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn$1(searchKeyPath, notSetValue) {\n  return getIn(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn(collection, keyPath) {\n  return getIn(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn$1(searchKeyPath) {\n  return hasIn(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq()\n        .map(this.__toStringMapper)\n        .join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection\n      .toSeq()\n      .map(entryMapper)\n      .toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn$1,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn$1,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq()\n      .map(keyMapper)\n      .toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq()\n      .reverse()\n      .first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function() {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (other &&\n      this._keys === other._keys &&\n      recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn$1;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge;\nRecordPrototype.mergeWith = mergeWith;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep$1;\nRecordPrototype.mergeDeepWith = mergeDeepWith$1;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn$1;\nRecordPrototype.update = update$1;\nRecordPrototype.updateIn = updateIn$1;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function() {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value)\n      ? KeyedSeq\n      : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nvar version = \"4.0.0-rc.11\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn,\n  has: has,\n  hasIn: hasIn,\n  merge: merge$1,\n  mergeDeep: mergeDeep,\n  mergeWith: mergeWith$1,\n  mergeDeepWith: mergeDeepWith,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn,\n  update: update,\n  updateIn: updateIn,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { version, Collection, Iterable, Seq, Map, OrderedMap, List, Stack, Set, OrderedSet, Record, Range, Repeat, is, fromJS, hash, isImmutable, isCollection, isKeyed, isIndexed, isAssociative, isOrdered, isValueObject, get, getIn, has, hasIn, merge$1 as merge, mergeDeep, mergeWith$1 as mergeWith, mergeDeepWith, remove, removeIn, set, setIn, update, updateIn };\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/immutable/dist/immutable.es.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _utilities = require('./utilities');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (reducers) {\n  var getDefaultState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _immutable2.default.Map;\n\n  var reducerKeys = Object.keys(reducers);\n\n  // eslint-disable-next-line space-infix-ops\n  return function () {\n    var inputState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getDefaultState();\n    var action = arguments[1];\n\n    // eslint-disable-next-line no-process-env\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = (0, _utilities.getUnexpectedInvocationParameterMessage)(inputState, reducers, action);\n\n      if (warningMessage) {\n        // eslint-disable-next-line no-console\n        console.error(warningMessage);\n      }\n    }\n\n    return inputState.withMutations(function (temporaryState) {\n      reducerKeys.forEach(function (reducerName) {\n        var reducer = reducers[reducerName];\n        var currentDomainState = temporaryState.get(reducerName);\n        var nextDomainState = reducer(currentDomainState, action);\n\n        (0, _utilities.validateNextState)(nextDomainState, reducerName, action);\n\n        temporaryState.set(reducerName, nextDomainState);\n      });\n    });\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=combineReducers.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-immutable/dist/combineReducers.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./middleware/style.scss\n// module id = y8vE\n// module chunks = 0","\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux-devtools-extension/index.js"],"sourceRoot":""}